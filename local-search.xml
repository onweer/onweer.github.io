<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>mobx-reactions</title>
    <link href="/2022/10/10/mobx-reactions/"/>
    <url>/2022/10/10/mobx-reactions/</url>
    
    <content type="html"><![CDATA[<h1 id="ä½¿ç”¨-reactions-å¤„ç†å‰¯ä½œç”¨-ğŸš€"><a href="#ä½¿ç”¨-reactions-å¤„ç†å‰¯ä½œç”¨-ğŸš€" class="headerlink" title="ä½¿ç”¨ reactions å¤„ç†å‰¯ä½œç”¨ {ğŸš€}"></a>ä½¿ç”¨ reactions å¤„ç†å‰¯ä½œç”¨ {ğŸš€}</h1><p>reactions æ˜¯éœ€è¦ç†è§£çš„é‡è¦æ¦‚å¿µï¼Œå› ä¸ºä»–å¯ä»¥å°† MobX ä¸­æ‰€æœ‰çš„ç‰¹æ€§æœ‰æœºåœ°èåˆåœ¨ä¸€èµ·ã€‚ reactions çš„ç›®çš„æ˜¯å¯¹è‡ªåŠ¨å‘ç”Ÿçš„å‰¯ä½œç”¨è¿›è¡Œå»ºæ¨¡ã€‚ å®ƒä»¬çš„æ„ä¹‰åœ¨äºä¸ºä½ çš„å¯è§‚å¯ŸçŠ¶æ€åˆ›å»ºæ¶ˆè´¹è€…ï¼Œä»¥åŠæ¯å½“å…³è”çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè‡ªåŠ¨è¿è¡Œå‰¯ä½œç”¨ã€‚</p><h2 id="Autorun"><a href="#Autorun" class="headerlink" title="Autorun"></a>Autorun</h2><p>ç”¨æ³•ï¼š</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-built_in">auto</span>run(effect: (reaction) =&gt; <span class="hljs-built_in">void</span>)<br><span class="hljs-built_in">auto</span>run å‡½æ•°æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œæ¯å½“è¯¥å‡½æ•°æ‰€è§‚å¯Ÿçš„å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒéƒ½åº”è¯¥è¿è¡Œã€‚ å½“ä½ è‡ªå·±åˆ›å»º <span class="hljs-built_in">auto</span>run æ—¶ï¼Œå®ƒä¹Ÿä¼šè¿è¡Œä¸€æ¬¡ã€‚å®ƒä»…ä»…å¯¹å¯è§‚å¯ŸçŠ¶æ€çš„å˜åŒ–åšå‡ºå“åº”ï¼Œæ¯”å¦‚é‚£äº›ä½ ç”¨ observable æˆ–è€… computed æ³¨é‡Šçš„ã€‚<br></code></pre></td></tr></table></figure><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; makeAutoObservable, autorun &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mobx&quot;</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;<br>  name;<br>  energyLevel;<br><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">energyLevel</span> = <span class="hljs-number">100</span>;<br>    <span class="hljs-title function_">makeAutoObservable</span>(<span class="hljs-variable language_">this</span>);<br>  &#125;<br><br>  <span class="hljs-title function_">reduceEnergy</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">energyLevel</span> -= <span class="hljs-number">10</span>;<br>  &#125;<br><br>  <span class="hljs-keyword">get</span> <span class="hljs-title function_">isHungry</span>() &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">energyLevel</span> &lt; <span class="hljs-number">50</span>;<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> giraffe = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-string">&quot;Gary&quot;</span>);<br><br><span class="hljs-title function_">autorun</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Energy level:&quot;</span>, giraffe.<span class="hljs-property">energyLevel</span>);<br>&#125;);<br><br><span class="hljs-title function_">autorun</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-keyword">if</span> (giraffe.<span class="hljs-property">isHungry</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Now I&#x27;m hungry!&quot;</span>);<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;I&#x27;m not hungry!&quot;</span>);<br>  &#125;<br>&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Now let&#x27;s change state!&quot;</span>);<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>  giraffe.<span class="hljs-title function_">reduceEnergy</span>();<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œä½ å°†ä¼šçœ‹åˆ°ä¸‹é¢çš„è¾“å‡ºï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Energy</span> level: <span class="hljs-number">100</span><br><span class="hljs-attribute">I</span>&#x27;m not hungry!<br><span class="hljs-attribute">Now</span> let&#x27;s change state!<br><span class="hljs-attribute">Energy</span> level: <span class="hljs-number">90</span><br><span class="hljs-attribute">Energy</span> level: <span class="hljs-number">80</span><br><span class="hljs-attribute">Energy</span> level: <span class="hljs-number">70</span><br><span class="hljs-attribute">Energy</span> level: <span class="hljs-number">60</span><br><span class="hljs-attribute">Energy</span> level: <span class="hljs-number">50</span><br><span class="hljs-attribute">Energy</span> level: <span class="hljs-number">40</span><br><span class="hljs-attribute">Now</span> I&#x27;m hungry!<br><span class="hljs-attribute">Energy</span> level: <span class="hljs-number">30</span><br><span class="hljs-attribute">Energy</span> level: <span class="hljs-number">20</span><br><span class="hljs-attribute">Energy</span> level: <span class="hljs-number">10</span><br><span class="hljs-attribute">Energy</span> level: <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>æ­£å¦‚ä½ åœ¨ä¸Šé¢è¾“å‡ºçš„å‰ä¸¤è¡Œçœ‹åˆ°çš„ï¼Œä¸¤ä¸ª autorun å‡½æ•°åœ¨åˆå§‹åŒ–æ—¶éƒ½ä¼šè¿è¡Œä¸€æ¬¡ã€‚è¿™å°±æ˜¯åœ¨è¿è¡Œ for å¾ªç¯å‰å¯ä»¥çœ‹åˆ°çš„å†…å®¹ã€‚</p><p>ä¸€æ—¦æˆ‘ä»¬è¿è¡Œ for å¾ªç¯ä½¿ç”¨ reduceEnergy action æ”¹å˜ energyLevelï¼Œ æ¯å½“ autorun è§‚å¯Ÿåˆ°å¯è§‚å¯ŸçŠ¶æ€çš„å˜åŒ–æ—¶ï¼Œ æˆ‘ä»¬å°†ä¼šçœ‹åˆ°ä¸€æ¡æ–°çš„ log æ¡ç›®è¢«æ‰“å°å‡ºæ¥ï¼š</p><p>å¯¹äºâ€œEnergy levelâ€å‡½æ•°ï¼Œå®ƒæ€»æ˜¯å¯ä»¥æ£€æµ‹åˆ° energyLevel å¯è§‚å¯Ÿå¯¹è±¡çš„å˜åŒ–ï¼Œæ€»å…±å‘ç”Ÿ 10 æ¬¡ã€‚</p><p>å¯¹äºâ€œNow Iâ€™m hungryâ€å‡½æ•°ï¼Œå®ƒæ€»æ˜¯å¯ä»¥æ£€æµ‹åˆ° isHungry è®¡ç®—å€¼çš„å˜åŒ–ï¼Œ æ€»å…±å‘ç”Ÿ 1 æ¬¡ã€‚</p><h2 id="Reaction"><a href="#Reaction" class="headerlink" title="Reaction"></a>Reaction</h2><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">reaction(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> value, <span class="hljs-function"><span class="hljs-params">(value, previousValue, reaction)</span> =&gt;</span> &#123; sideEffect &#125;, options?).<br></code></pre></td></tr></table></figure><p>reaction ç±»ä¼¼äº autorunï¼Œä½†å¯ä»¥è®©ä½ æ›´åŠ ç²¾ç»†åœ°æ§åˆ¶è¦è·Ÿè¸ªçš„å¯è§‚å¯Ÿå¯¹è±¡ã€‚ å®ƒæ¥å—ä¸¤ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼šç¬¬ä¸€ä¸ªï¼Œdata å‡½æ•°ï¼Œå…¶æ˜¯è¢«è·Ÿè¸ªçš„å‡½æ•°å¹¶ä¸”å…¶è¿”å›å€¼å°†ä¼šä½œä¸ºç¬¬äºŒä¸ªå‡½æ•°ï¼Œeffect å‡½æ•°ï¼Œçš„è¾“å…¥ã€‚ é‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œå‰¯ä½œç”¨åªä¼šå¯¹ data å‡½æ•°ä¸­è¢«è®¿é—®è¿‡çš„æ•°æ®åšå‡ºååº”ï¼Œè¿™äº›æ•°æ®å¯èƒ½å°‘äº effect å‡½æ•°ä¸­å®é™…ä½¿ç”¨çš„æ•°æ®ã€‚</p><p>ä¸€èˆ¬çš„æ¨¡å¼æ˜¯åœ¨ data å‡½æ•°ä¸­è¿”å›ä½ åœ¨å‰¯ä½œç”¨ä¸­éœ€è¦çš„æ‰€æœ‰æ•°æ®ï¼Œ å¹¶ä»¥è¿™ç§æ–¹å¼æ›´ç²¾ç¡®åœ°æ§åˆ¶å‰¯ä½œç”¨è§¦å‘çš„æ—¶æœºã€‚ ä¸ autorun ä¸åŒï¼Œå‰¯ä½œç”¨åœ¨åˆå§‹åŒ–æ—¶ä¸ä¼šè‡ªåŠ¨è¿è¡Œï¼Œè€Œåªä¼šåœ¨ data è¡¨è¾¾å¼é¦–æ¬¡è¿”å›æ–°å€¼ä¹‹åè¿è¡Œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs js"><br><span class="hljs-keyword">import</span> &#123; makeAutoObservable, reaction &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mobx&quot;</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;<br>    name<br>    energyLevel<br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">energyLevel</span> = <span class="hljs-number">100</span><br>        <span class="hljs-title function_">makeAutoObservable</span>(<span class="hljs-variable language_">this</span>)<br>    &#125;<br><br>    <span class="hljs-title function_">reduceEnergy</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">energyLevel</span> -= <span class="hljs-number">10</span><br>    &#125;<br><br>    <span class="hljs-keyword">get</span> <span class="hljs-title function_">isHungry</span>() &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">energyLevel</span> &lt; <span class="hljs-number">50</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> giraffe = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-string">&quot;Gary&quot;</span>)<br><br><span class="hljs-title function_">reaction</span>(<br>    <span class="hljs-function">() =&gt;</span> giraffe.<span class="hljs-property">isHungry</span>,<br>    <span class="hljs-function"><span class="hljs-params">isHungry</span> =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (isHungry) &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Now I&#x27;m hungry!&quot;</span>)<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;I&#x27;m not hungry!&quot;</span>)<br>        &#125;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Energy level:&quot;</span>, giraffe.<span class="hljs-property">energyLevel</span>)<br>    &#125;<br>)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Now let&#x27;s change state!&quot;</span>)<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>    giraffe.<span class="hljs-title function_">reduceEnergy</span>()<br>&#125;<br>è¾“å‡ºï¼š<br><br><span class="hljs-title class_">Now</span> <span class="hljs-keyword">let</span><span class="hljs-string">&#x27;s change state!</span><br><span class="hljs-string">Now I&#x27;</span>m hungry!<br><span class="hljs-title class_">Energy</span> <span class="hljs-attr">level</span>: <span class="hljs-number">40</span><br><br></code></pre></td></tr></table></figure><h2 id="When"><a href="#When" class="headerlink" title="When"></a>When</h2><p>when(predicate: () =&gt; boolean, effect?: () =&gt; void, options?)<br>when(predicate: () =&gt; boolean, options?): Promise</p><p>when ä¼šè§‚å¯Ÿå¹¶è¿è¡Œç»™å®šçš„ predicate å‡½æ•°ï¼Œç›´åˆ°å…¶è¿”å› trueã€‚ ä¸€æ—¦ predicate è¿”å›äº† trueï¼Œç»™å®šçš„ effect å‡½æ•°å°±ä¼šæ‰§è¡Œå¹¶ä¸”è‡ªåŠ¨æ‰§è¡Œå™¨å‡½æ•°å°†ä¼šè¢«æ¸…ç†æ‰ã€‚</p><p>å¦‚æœä½ æ²¡æœ‰ä¼ å…¥ effect å‡½æ•°ï¼Œwhen å‡½æ•°è¿”å›ä¸€ä¸ª Promise ç±»å‹çš„ disposerï¼Œå¹¶å…è®¸ä½ æ‰‹åŠ¨å–æ¶ˆã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; when, makeAutoObservable &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mobx&quot;</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyResource</span> &#123;<br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">makeAutoObservable</span>(<span class="hljs-variable language_">this</span>, &#123; <span class="hljs-attr">dispose</span>: <span class="hljs-literal">false</span> &#125;)<br>        <span class="hljs-title function_">when</span>(<br>            <span class="hljs-comment">// Once...</span><br>            <span class="hljs-function">() =&gt;</span> !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isVisible</span>,<br>            <span class="hljs-comment">// ... then.</span><br>            <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">dispose</span>()<br>        )<br>    &#125;<br><br>    <span class="hljs-keyword">get</span> <span class="hljs-title function_">isVisible</span>() &#123;<br>        <span class="hljs-comment">// è¡¨ç¤ºæ­¤é¡¹ç›®æ˜¯å¦å¯è§.</span><br>    &#125;<br><br>    <span class="hljs-title function_">dispose</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-comment">// æ¸…ç†ä¸€äº›èµ„æº.</span><br>    &#125;<br>&#125;<br>ä¸€æ—¦ isVisible å˜æˆ <span class="hljs-literal">false</span>ï¼Œdispose æ–¹æ³•å°†ä¼šè¢«è°ƒç”¨ï¼Œ å¹¶å¯¹ <span class="hljs-title class_">MyResource</span> åšä¸€äº›æ¸…ç†æ“ä½œã€‚<br></code></pre></td></tr></table></figure><h2 id="await-when-â€¦"><a href="#await-when-â€¦" class="headerlink" title="await when(â€¦)"></a>await when(â€¦)</h2><p>å¦‚æœä½ æ²¡æœ‰æä¾› effect å‡½æ•°ï¼Œwhen å°†ä¼šè¿”å›ä¸€ä¸ª Promiseã€‚è¿™æ ·ä¼šè·Ÿ async / await å¾ˆå¥½åœ°ç»“åˆåœ¨ä¸€èµ·ï¼Œè®©ä½ å¯ä»¥ç­‰å¾…å¯è§‚å¯Ÿå¯¹è±¡ä¸­çš„å˜åŒ–ã€‚</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs arcade">async <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    await <span class="hljs-built_in">when</span>(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> that.isVisible)<br>    <span class="hljs-comment">// etc...</span><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>mobx</tag>
      
      <tag>reactions</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>mobx-computeds</title>
    <link href="/2022/10/09/mobx-computeds/"/>
    <url>/2022/10/09/mobx-computeds/</url>
    
    <content type="html"><![CDATA[<p>è®¡ç®—å€¼å¯ä»¥ç”¨æ¥ä»å…¶ä»–å¯è§‚å¯Ÿå¯¹è±¡ä¸­æ´¾ç”Ÿä¿¡æ¯ã€‚ è®¡ç®—å€¼é‡‡ç”¨æƒ°æ€§æ±‚å€¼ï¼Œä¼šç¼“å­˜å…¶è¾“å‡ºï¼Œå¹¶ä¸”åªæœ‰å½“å…¶ä¾èµ–çš„å¯è§‚å¯Ÿå¯¹è±¡è¢«æ”¹å˜æ—¶æ‰ä¼šé‡æ–°è®¡ç®—ã€‚ å®ƒä»¬åœ¨ä¸è¢«ä»»ä½•å€¼è§‚å¯Ÿæ—¶ä¼šè¢«æš‚æ—¶åœç”¨ã€‚</p><p>ä»æ¦‚å¿µä¸Šè®²ï¼Œå®ƒä»¬å’Œç”µå­è¡¨æ ¼ä¸­çš„å…¬å¼éå¸¸ç›¸ä¼¼ï¼Œå¹¶ä¸”ä½œç”¨å¼ºå¤§ã€ä¸å¯è¢«ä½ä¼°ã€‚å®ƒä»¬å¯ä»¥ååŠ©å‡å°‘ä½ éœ€è¦å­˜å‚¨çš„çŠ¶æ€çš„æ•°é‡ï¼Œå¹¶ä¸”æ˜¯è¢«é«˜åº¦ä¼˜åŒ–è¿‡çš„ã€‚è¯·å°½å¯èƒ½ä½¿ç”¨å®ƒä»¬ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; makeObservable, observable, computed, autorun &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mobx&quot;</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderLine</span> &#123;<br>  price = <span class="hljs-number">0</span>;<br>  amount = <span class="hljs-number">1</span>;<br><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">price</span>) &#123;<br>    <span class="hljs-title function_">makeObservable</span>(<span class="hljs-variable language_">this</span>, &#123;<br>      <span class="hljs-attr">price</span>: observable,<br>      <span class="hljs-attr">amount</span>: observable,<br>      <span class="hljs-attr">total</span>: computed,<br>    &#125;);<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> = price;<br>  &#125;<br><br>  <span class="hljs-keyword">get</span> <span class="hljs-title function_">total</span>() &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Computing...&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">price</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">amount</span>;<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> order = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderLine</span>(<span class="hljs-number">0</span>);<br><br><span class="hljs-keyword">const</span> stop = <span class="hljs-title function_">autorun</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Total: &quot;</span> + order.<span class="hljs-property">total</span>);<br>&#125;);<br><span class="hljs-comment">// Computing...</span><br><span class="hljs-comment">// Total: 0</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(order.<span class="hljs-property">total</span>);<br><span class="hljs-comment">// (ä¸ä¼šé‡æ–°è®¡ç®—!)</span><br><span class="hljs-comment">// 0</span><br><br>order.<span class="hljs-property">amount</span> = <span class="hljs-number">5</span>;<br><span class="hljs-comment">// Computing...</span><br><span class="hljs-comment">// (æ— éœ€ autorun)</span><br><br>order.<span class="hljs-property">price</span> = <span class="hljs-number">2</span>;<br><span class="hljs-comment">// Computing...</span><br><span class="hljs-comment">// Total: 10</span><br><br><span class="hljs-title function_">stop</span>();<br><br>order.<span class="hljs-property">price</span> = <span class="hljs-number">3</span>;<br><span class="hljs-comment">// è®¡ç®—å€¼å’Œ autorun éƒ½ä¸ä¼šè¢«é‡æ–°è®¡ç®—.</span><br></code></pre></td></tr></table></figure><h1 id="è§„åˆ™"><a href="#è§„åˆ™" class="headerlink" title="è§„åˆ™"></a>è§„åˆ™</h1><p>ä½¿ç”¨è®¡ç®—å€¼æ—¶ï¼Œè¯·éµå¾ªä¸‹é¢çš„æœ€ä½³å®è·µï¼š</p><ol><li>å®ƒä»¬ä¸åº”è¯¥æœ‰å‰¯ä½œç”¨æˆ–è€…æ›´æ–°å…¶ä»–å¯è§‚å¯Ÿå¯¹è±¡ã€‚</li><li>é¿å…åˆ›å»ºå’Œè¿”å›æ–°çš„å¯è§‚å¯Ÿå¯¹è±¡ã€‚</li><li>å®ƒä»¬ä¸åº”è¯¥ä¾èµ–éå¯è§‚å¯Ÿå¯¹è±¡çš„å€¼</li></ol><h2 id="è®¡ç®—å€¼å¯ä»¥æœ‰-setters"><a href="#è®¡ç®—å€¼å¯ä»¥æœ‰-setters" class="headerlink" title="è®¡ç®—å€¼å¯ä»¥æœ‰ setters"></a>è®¡ç®—å€¼å¯ä»¥æœ‰ setters</h2><p>ä½ ä¹Ÿå¯ä»¥ä¸ºè®¡ç®—å€¼å®šä¹‰ä¸€ä¸ª setterã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™äº› setters ä¸èƒ½ç›´æ¥æ›´æ”¹è®¡ç®—å±æ€§çš„å€¼ï¼Œ ä½†æ˜¯å®ƒä»¬å¯ä»¥è¢«å½“ä½œæ´¾ç”Ÿçš„â€œé€†æ“ä½œâ€ä½¿ç”¨ã€‚setters ä¼šè¢«è‡ªåŠ¨æ ‡è®°ä¸º actionsã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dimension</span> &#123;<br>  length = <span class="hljs-number">2</span>;<br><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">makeAutoObservable</span>(<span class="hljs-variable language_">this</span>);<br>  &#125;<br><br>  <span class="hljs-keyword">get</span> <span class="hljs-title function_">squared</span>() &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span>;<br>  &#125;<br>  <span class="hljs-keyword">set</span> <span class="hljs-title function_">squared</span>(<span class="hljs-params">value</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(value);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="computed-struct-æ¯”è¾ƒè¾“å‡ºçš„ç»“æ„"><a href="#computed-struct-æ¯”è¾ƒè¾“å‡ºçš„ç»“æ„" class="headerlink" title="computed.struct æ¯”è¾ƒè¾“å‡ºçš„ç»“æ„"></a>computed.struct æ¯”è¾ƒè¾“å‡ºçš„ç»“æ„</h2><p>å¦‚æœä¸€ä¸ªè®¡ç®—å€¼åœ¨ç»“æ„ä¸Šç­‰åŒäºä¸Šä¸€æ¬¡çš„è®¡ç®—ç»“æœå¹¶ä¸”å…¶è¾“å‡ºä¸éœ€è¦é€šçŸ¥è§‚å¯Ÿè€…ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨ computed.structã€‚åœ¨é€šçŸ¥è§‚å¯Ÿè€…ä¹‹å‰ï¼Œå®ƒå°†ä¼šå¯¹ç»“æ„è¿›è¡Œæ¯”è¾ƒè€Œä¸æ˜¯æ£€æŸ¥å…·ä½“çš„å¼•ç”¨æ˜¯å¦ç›¸åŒã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Box</span> &#123;<br>  width = <span class="hljs-number">0</span>;<br>  height = <span class="hljs-number">0</span>;<br><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">makeObsevable</span>(<span class="hljs-variable language_">this</span>, &#123;<br>      <span class="hljs-attr">x</span>: observable,<br>      <span class="hljs-attr">y</span>: observable,<br>      <span class="hljs-attr">topRight</span>: computed.<span class="hljs-property">struct</span>,<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-keyword">get</span> <span class="hljs-title function_">topRight</span>() &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      <span class="hljs-attr">x</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">width</span>,<br>      <span class="hljs-attr">y</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span>,<br>    &#125;;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="Options-ğŸš€"><a href="#Options-ğŸš€" class="headerlink" title="Options {ğŸš€}"></a>Options {ğŸš€}</h2><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œcomputed æ˜¯å¯ä»¥å¼€ç®±å³ç”¨çš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ä¼ å…¥ options å‚æ•°è‡ªå®šä¹‰å…¶è¡Œä¸ºã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs stylus">name<br>è¯¥å­—ç¬¦ä¸²åœ¨ Spy event listeners å’Œ MobX developer tools ä¸­ç”¨ä½œè°ƒè¯•åç§°ã€‚<br><br>equals<br>é»˜è®¤è®¾ç½®ä¸º comparer.defaultã€‚å®ƒå……å½“ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ï¼Œç”¨äºæ¯”è¾ƒä¸Šä¸€ä¸ªå€¼å’Œä¸‹ä¸€ä¸ªå€¼ã€‚å¦‚æœè¯¥å‡½æ•°è®¤ä¸ºä¸¤ä¸ªå€¼ç›¸ç­‰ï¼Œé‚£ä¹ˆè§‚å¯Ÿè€…ä»¬å°†ä¸ä¼šè¢«é‡æ–°è®¡ç®—ã€‚<br><br>åœ¨å¤„ç†å…¶ä»–åº“çš„ç»“æ„æ€§æ•°æ®å’Œç±»å‹æ—¶ï¼Œè¿™ä¸ªé€‰é¡¹ä¼šå¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œ(<span class="hljs-selector-tag">a</span>, b) =&gt; <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.isSame</span>(b)å¯ä»¥è¢«ç”¨åœ¨ä¸€ä¸ª moment è®¡ç®—å®ä¾‹ä¸Šã€‚å¦‚æœä½ æƒ³ä½¿ç”¨ç»“æ„æ¯”è¾ƒæˆ–è€…æµ…æ¯”è¾ƒæ¥ç¡®å®šæ–°å€¼æ˜¯å¦ä¸ä¹‹å‰çš„å€¼ä¸åŒï¼Œ comparer<span class="hljs-selector-class">.structural</span> å’Œ comparer<span class="hljs-selector-class">.shallow</span> å°±ä¼šæ´¾ä¸Šç”¨åœºï¼Œæœ€åè¿˜ä¼šé€šçŸ¥è§‚å¯Ÿè€…ã€‚<br><br>æŸ¥çœ‹ä¸Šé¢çš„ computed<span class="hljs-selector-class">.struct</span> éƒ¨åˆ†ã€‚<br><br>å†…ç½® comparers<br>MobX æä¾›äº†å››ç§å†…ç½®çš„ comparer æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•æ»¡è¶³ computed çš„ equals é€‰é¡¹çš„å¤§å¤šæ•°éœ€æ±‚ï¼š<br><br>comparer<span class="hljs-selector-class">.identity</span> ä½¿ç”¨å…¨ç­‰ ï¼ˆ===ï¼‰è¿ç®—ç¬¦ç¡®å®šä¸¤ä¸ªå€¼æ˜¯å¦ç›¸åŒã€‚<br>comparer<span class="hljs-selector-class">.default</span> ä¸ comparer<span class="hljs-selector-class">.identity</span> ç›¸åŒï¼Œä½†æ˜¯å…¶è®¤ä¸º NaN ç­‰äº NaNã€‚<br>comparer<span class="hljs-selector-class">.structural</span> æ‰§è¡Œæ·±å±‚çš„ç»“æ„æ¯”è¾ƒä»¥ç¡®å®šä¸¤ä¸ªå€¼æ˜¯å¦ç›¸åŒã€‚<br>comparer<span class="hljs-selector-class">.shallow</span> æ‰§è¡Œæµ…å±‚çš„ç»“æ„æ¯”è¾ƒä»¥ç¡®å®šä¸¤ä¸ªå€¼æ˜¯å¦ç›¸åŒã€‚<br>ä½ å¯ä»¥ä» MobX å¯¼å…¥ comparer æ¥è®¿é—®è¿™äº›æ–¹æ³•ã€‚å®ƒä»¬ä¹Ÿå¯ä»¥ç”¨äº reactionã€‚<br><br>requiresReaction<br>æ¨èåœ¨éå¸¸æ˜‚è´µçš„è®¡ç®—å€¼ä¸­å°†è¿™ä¸ªé€‰é¡¹è®¾ç½®ä¸º trueã€‚å¦‚æœä½ è¯•å›¾åœ¨å“åº”å¼ä¸Šä¸‹æ–‡ä¹‹å¤–è¯»å–è¿™æ ·çš„è®¡ç®—å€¼â€”â€”è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒå¯èƒ½ä¸ä¼šè¢«ç¼“å­˜èµ·æ¥â€”â€”å°±ä¼šå¯¼è‡´è®¡ç®—å€¼æŠ›å‡ºé”™è¯¯ï¼Œè€Œä¸æ˜¯è¿›è¡Œæ˜‚è´µçš„é‡æ–°è®¡ç®—ã€‚<br><br>keepAlive<br>è¿™ä¸ªé€‰é¡¹ä¼šé¿å…è®¡ç®—å€¼åœ¨æœªè¢«è§‚å¯Ÿæ—¶è¢«æš‚æ—¶åœç”¨ï¼ˆå¯ä»¥æŸ¥çœ‹ä¸Šé¢çš„è§£é‡Šï¼‰ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œè¿™ç§å†…å­˜æ³„æ¼ä¸æˆ‘ä»¬åœ¨ reactions ä¸­è®¨è®ºåˆ°çš„ç±»ä¼¼ã€‚<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>mobx</tag>
      
      <tag>action</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>mobx-action</title>
    <link href="/2022/10/09/mobx-action/"/>
    <url>/2022/10/09/mobx-action/</url>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨ actions æ›´æ–° state<br>ç”¨æ³•ï¼š</p><ul><li>action ï¼ˆæ³¨è§£ï¼‰</li><li>action(fn)</li><li>action(name, fn)</li></ul><p>æ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½æœ‰ actionsã€‚action å°±æ˜¯ä»»æ„ä¸€æ®µä¿®æ”¹ state çš„ä»£ç ã€‚åŸåˆ™ä¸Šï¼Œactions æ€»ä¼šä¸ºäº†å¯¹ä¸€ä¸ªäº‹ä»¶åšå‡ºå“åº”è€Œå‘ç”Ÿã€‚ä¾‹å¦‚ï¼Œç‚¹å‡»äº†ä¸€ä¸ªæŒ‰é’®ï¼Œä¸€äº›è¾“å…¥è¢«æ”¹å˜äº†ï¼Œä¸€ä¸ª <code>websocket</code> æ¶ˆæ¯è¢«é€è¾¾äº†ï¼Œç­‰ç­‰ã€‚</p><ol><li><p>å®ƒä»¬åœ¨ transactions å†…éƒ¨è¿è¡Œã€‚ä»»ä½•å¯è§‚å¯Ÿå¯¹è±¡åœ¨æœ€å¤–å±‚çš„ action å®Œæˆä¹‹å‰éƒ½ä¸ä¼šè¢«æ›´æ–°ï¼Œè¿™ä¸€ç‚¹ä¿è¯äº†åœ¨ action å®Œæˆä¹‹å‰ï¼Œaction æ‰§è¡ŒæœŸé—´ç”Ÿæˆçš„ä¸­é—´å€¼æˆ–ä¸å®Œæ•´çš„å€¼å¯¹åº”ç”¨ç¨‹åºçš„å…¶ä½™éƒ¨åˆ†éƒ½æ˜¯ä¸å¯è§çš„ã€‚</p></li><li><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸å…è®¸åœ¨ actions ä¹‹å¤–æ”¹å˜ stateã€‚è¿™æœ‰åŠ©äºåœ¨ä»£ç ä¸­æ¸…æ¥šåœ°å¯¹çŠ¶æ€æ›´æ–°å‘ç”Ÿçš„ä½ç½®è¿›è¡Œå®šä½ã€‚</p></li></ol><p>action æ³¨è§£åº”è¯¥ä»…ç”¨äºä¼šä¿®æ”¹ state çš„å‡½æ•°ã€‚æ´¾ç”Ÿå…¶ä»–ä¿¡æ¯ï¼ˆæ‰§è¡ŒæŸ¥è¯¢æˆ–è€…è¿‡æ»¤æ•°æ®ï¼‰çš„å‡½æ•°ä¸åº”è¯¥è¢«æ ‡è®°ä¸º actionsï¼Œä»¥ä¾¿ MobX å¯ä»¥å¯¹å®ƒä»¬çš„è°ƒç”¨è¿›è¡Œè·Ÿè¸ªã€‚ å¸¦æœ‰ action æ³¨è§£çš„æˆå‘˜æ˜¯ä¸å¯æšä¸¾çš„ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; makeObservable, observable, action &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mobx&quot;</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Doubler</span> &#123;<br>  value = <span class="hljs-number">0</span>;<br><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">value</span>) &#123;<br>    <span class="hljs-title function_">makeObservable</span>(<span class="hljs-variable language_">this</span>, &#123;<br>      <span class="hljs-attr">value</span>: observable,<br>      <span class="hljs-attr">increment</span>: action,<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-title function_">increment</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// è§‚å¯Ÿè€…ä¸ä¼šçœ‹åˆ°ä¸­é—´çŠ¶æ€.</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>++;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>++;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ä½¿ç”¨-action-åŒ…è£…å‡½æ•°"><a href="#ä½¿ç”¨-action-åŒ…è£…å‡½æ•°" class="headerlink" title="ä½¿ç”¨ action åŒ…è£…å‡½æ•°"></a>ä½¿ç”¨ action åŒ…è£…å‡½æ•°</h1><p>ä¸æ¨èè¿™æ ·ä½¿ç”¨</p><p>ä¸ºäº†å°½å¯èƒ½åœ°åˆ©ç”¨ MobX çš„äº‹åŠ¡æ€§ï¼Œactions åº”è¯¥å°½å¯èƒ½è¢«ä¼ åˆ°å¤–å›´ã€‚å¦‚æœä¸€ä¸ªç±»æ–¹æ³•ä¼šä¿®æ”¹ stateï¼Œå¯ä»¥å°†å…¶æ ‡è®°ä¸º actionã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">ResetButton</span> = (<span class="hljs-params">&#123; formState &#125;</span>) =&gt; (<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span></span></span><br><span class="hljs-tag"><span class="language-xml">    <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;action((e)</span> =&gt;</span> &#123;</span><br><span class="language-xml">      formState.resetPendingUploads();</span><br><span class="language-xml">      formState.resetValues();</span><br><span class="language-xml">      e.stopPropagation();</span><br><span class="language-xml">    &#125;)&#125;</span><br><span class="language-xml">  &gt;</span><br><span class="language-xml">    Reset form</span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br>);<br></code></pre></td></tr></table></figure><h1 id="action-bound-æ¨è"><a href="#action-bound-æ¨è" class="headerlink" title="action.bound æ¨è"></a>action.bound æ¨è</h1><p>action.bound æ³¨è§£å¯ç”¨äºå°†æ–¹æ³•è‡ªåŠ¨ç»‘å®šåˆ°æ­£ç¡®çš„å®ä¾‹ï¼Œè¿™æ · this ä¼šå§‹ç»ˆè¢«æ­£ç¡®ç»‘å®šåœ¨å‡½æ•°å†…éƒ¨ã€‚</p><p>ä½¿ç”¨ makeAutoObservable(o, {}, { autoBind: true }) è‡ªåŠ¨ç»‘å®šæ‰€æœ‰çš„ actions å’Œ flows</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; makeAutoObservable &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mobx&quot;</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Doubler</span> &#123;<br>  value = <span class="hljs-number">0</span>;<br><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">value</span>) &#123;<br>    <span class="hljs-title function_">makeAutoObservable</span>(<span class="hljs-variable language_">this</span>, &#123;&#125;, &#123; <span class="hljs-attr">autoBind</span>: <span class="hljs-literal">true</span> &#125;);<br>  &#125;<br><br>  <span class="hljs-title function_">increment</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>++;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>++;<br>  &#125;<br><br>  *<span class="hljs-title function_">flow</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">yield</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&quot;http://example.com/value&quot;</span>);<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = <span class="hljs-keyword">yield</span> response.<span class="hljs-title function_">json</span>();<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="runInAction"><a href="#runInAction" class="headerlink" title="runInAction"></a>runInAction</h1><p><code>runInAction(fn)</code></p><p>ä½¿ç”¨è¿™ä¸ªå·¥å…·å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªä¼šè¢«ç«‹å³è°ƒç”¨çš„ä¸´æ—¶ actionã€‚åœ¨å¼‚æ­¥è¿›ç¨‹ä¸­éå¸¸æœ‰ç”¨ã€‚ è¯·æŸ¥çœ‹ ä¸Šé¢ä»£ç å— ä¸­çš„å®ä¾‹ã€‚</p><h1 id="action-ç»§æ‰¿"><a href="#action-ç»§æ‰¿" class="headerlink" title="action ç»§æ‰¿"></a>action ç»§æ‰¿</h1><p>åªæœ‰å®šä¹‰åœ¨åŸå‹ä¸Šçš„å‡½æ•°å¯ä»¥è¢«å­ç±»è¦†ç›–ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Parent</span> &#123;<br>    <span class="hljs-comment">// on instance</span><br>    arrowAction = <span class="hljs-function">() =&gt;</span> &#123;&#125;<br><br>    <span class="hljs-comment">// on prototype</span><br>    <span class="hljs-title function_">action</span>(<span class="hljs-params"></span>) &#123;&#125;<br>    <span class="hljs-title function_">boundAction</span>(<span class="hljs-params"></span>) &#123;&#125;<br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">makeObservable</span>(<span class="hljs-variable language_">this</span>, &#123;<br>            <span class="hljs-attr">arrowAction</span>: action<br>            <span class="hljs-attr">action</span>: action,<br>            <span class="hljs-attr">boundAction</span>: action.<span class="hljs-property">bound</span>,<br>        &#125;)<br>    &#125;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Child</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Parent</span> &#123;<br>    <span class="hljs-comment">// THROWS: TypeError: Cannot redefine property: arrowAction</span><br>    arrowAction = <span class="hljs-function">() =&gt;</span> &#123;&#125;<br><br>    <span class="hljs-comment">// OK</span><br>    <span class="hljs-title function_">action</span>(<span class="hljs-params"></span>) &#123;&#125;<br>    <span class="hljs-title function_">boundAction</span>(<span class="hljs-params"></span>) &#123;&#125;<br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">super</span>()<br>        <span class="hljs-title function_">makeObservable</span>(<span class="hljs-variable language_">this</span>, &#123;<br>            <span class="hljs-attr">arrowAction</span>: override,<br>            <span class="hljs-attr">action</span>: override,<br>            <span class="hljs-attr">boundAction</span>: override,<br>        &#125;)<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="å¼‚æ­¥-actions"><a href="#å¼‚æ­¥-actions" class="headerlink" title="å¼‚æ­¥ actions"></a>å¼‚æ­¥ actions</h1><p>ä»æœ¬è´¨ä¸Šè®²ï¼Œå¼‚æ­¥è¿›ç¨‹åœ¨ MobX ä¸­ä¸éœ€è¦ä»»ä½•ç‰¹æ®Šå¤„ç†ï¼Œå› ä¸ºä¸è®ºæ˜¯ä½•æ—¶å¼•å‘çš„æ‰€æœ‰ reactions éƒ½å°†ä¼šè‡ªåŠ¨æ›´æ–°ã€‚ è€Œä¸”å› ä¸ºå¯è§‚å¯Ÿå¯¹è±¡æ˜¯å¯å˜çš„ï¼Œå› æ­¤åœ¨ action æ‰§è¡Œè¿‡ç¨‹ä¸­ä¿æŒå¯¹å®ƒä»¬çš„å¼•ç”¨ä¸€èˆ¬æ˜¯å®‰å…¨çš„ã€‚</p><p>ç„¶è€Œï¼Œ<strong>åœ¨å¼‚æ­¥è¿›ç¨‹ä¸­æ›´æ–°å¯è§‚å¯Ÿå¯¹è±¡çš„æ¯ä¸ªæ­¥éª¤ï¼ˆtickï¼‰éƒ½åº”è¯¥è¢«æ ‡è¯†ä¸º action</strong></p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ©ç”¨ä¸Šè¿°çš„ API ä»¥å¤šç§æ–¹å¼å®ç°è¿™ä¸€ç‚¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js">å¦‚æœ <span class="hljs-title class_">Promise</span> çš„å¤„ç†å‡½æ•°æ˜¯ç±»çš„å­—æ®µï¼Œå®ƒä»¬å°†ç”± makeAutoObservable è‡ªåŠ¨åŒ…è£…ä¸º actionï¼š<br><br><span class="hljs-keyword">import</span> &#123; makeAutoObservable &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mobx&quot;</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Store</span> &#123;<br>    githubProjects = []<br>    state = <span class="hljs-string">&quot;pending&quot;</span> <span class="hljs-comment">// &quot;pending&quot;, &quot;done&quot; or &quot;error&quot;</span><br><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-title function_">makeAutoObservable</span>(<span class="hljs-variable language_">this</span>)<br>    &#125;<br><br>    <span class="hljs-title function_">fetchProjects</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">githubProjects</span> = []<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = <span class="hljs-string">&quot;pending&quot;</span><br>        <span class="hljs-title function_">fetchGithubProjectsSomehow</span>().<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">projectsFetchSuccess</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">projectsFetchFailure</span>)<br>    &#125;<br><br>    projectsFetchSuccess = <span class="hljs-function"><span class="hljs-params">projects</span> =&gt;</span> &#123;<br>        <span class="hljs-keyword">const</span> filteredProjects = <span class="hljs-title function_">somePreprocessing</span>(projects)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">githubProjects</span> = filteredProjects<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = <span class="hljs-string">&quot;done&quot;</span><br>    &#125;<br><br>    projectsFetchFailure = <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = <span class="hljs-string">&quot;error&quot;</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs pf">await ä¹‹åçš„ä»»ä½•æ“ä½œéƒ½ä¸ä¸å…¶åŒåœ¨ä¸€ä¸ª tick ä¸­ï¼Œå› æ­¤å®ƒä»¬éœ€è¦ä½¿ç”¨ action åŒ…è£…ã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ runInActionï¼š<br><br>import &#123; runInAction, makeAutoObservable &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mobx&quot;</span><br><br>class Store &#123;<br>    githubProjects = []<br>    <span class="hljs-keyword">state</span> = <span class="hljs-string">&quot;pending&quot;</span> // <span class="hljs-string">&quot;pending&quot;</span>, <span class="hljs-string">&quot;done&quot;</span> or <span class="hljs-string">&quot;error&quot;</span><br><br>    constructor() &#123;<br>        makeAutoObservable(this)<br>    &#125;<br><br>    async fetchProjects() &#123;<br>        this.githubProjects = []<br>        this.<span class="hljs-keyword">state</span> = <span class="hljs-string">&quot;pending&quot;</span><br>        try &#123;<br>            <span class="hljs-keyword">const</span> projects = await fetchGithubProjectsSomehow()<br>            <span class="hljs-keyword">const</span> filteredProjects = somePreprocessing(projects)<br>            runInAction(() =&gt; &#123;<br>                this.githubProjects = filteredProjects<br>                this.<span class="hljs-keyword">state</span> = <span class="hljs-string">&quot;done&quot;</span><br>            &#125;)<br>        &#125; catch (e) &#123;<br>            runInAction(() =&gt; &#123;<br>                this.<span class="hljs-keyword">state</span> = <span class="hljs-string">&quot;error&quot;</span><br>            &#125;)<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ä½¿ç”¨-flow-ä»£æ›¿-async-await-ğŸš€"><a href="#ä½¿ç”¨-flow-ä»£æ›¿-async-await-ğŸš€" class="headerlink" title="ä½¿ç”¨ flow ä»£æ›¿ async / await {ğŸš€}"></a>ä½¿ç”¨ flow ä»£æ›¿ async / await {ğŸš€}</h1><ul><li>flow ï¼ˆæ³¨è§£ï¼‰</li><li>flow(function* (args) { })</li></ul><p>flow åŒ…è£…å™¨æ˜¯ä¸€ä¸ªå¯é€‰çš„ async / await æ›¿ä»£æ–¹æ¡ˆï¼Œå®ƒè®© MobX action ä½¿ç”¨èµ·æ¥æ›´åŠ å®¹æ˜“ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>mobx</tag>
      
      <tag>action</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>mobx-observable-state</title>
    <link href="/2022/10/09/mobx-observable-state/"/>
    <url>/2022/10/09/mobx-observable-state/</url>
    
    <content type="html"><![CDATA[<h1 id="åˆ›å»ºå¯è§‚å¯Ÿçš„çŠ¶æ€"><a href="#åˆ›å»ºå¯è§‚å¯Ÿçš„çŠ¶æ€" class="headerlink" title="åˆ›å»ºå¯è§‚å¯Ÿçš„çŠ¶æ€"></a>åˆ›å»ºå¯è§‚å¯Ÿçš„çŠ¶æ€</h1><ul><li>å±æ€§</li><li>å¯¹è±¡</li><li>æ•°ç»„</li><li>Maps</li><li>Sets</li></ul><p>éƒ½å¯ä»¥è¢«è½¬åŒ–ä¸ºå¯è§‚å¯Ÿçš„å¯¹è±¡ï¼Œä½¿å¾—å¯¹è±¡å¯è§‚å¯Ÿçš„åŸºæœ¬æ–¹æ³•æ˜¯ä½¿ç”¨ makeObservable ä¸ºæ¯ä¸ªå±æ€§æŒ‡å®šä¸€ä¸ªæ³¨è§£ã€‚ æœ€é‡è¦çš„æ³¨è§£å¦‚ä¸‹ï¼š</p><ul><li>observable å®šä¹‰ä¸€ä¸ªå­˜å‚¨ state çš„å¯è¿½è¸ªå­—æ®µã€‚</li><li>action å°†ä¸€ä¸ªæ–¹æ³•æ ‡è®°ä¸ºå¯ä»¥ä¿®æ”¹ state çš„ actionã€‚</li><li>computed æ ‡è®°ä¸€ä¸ªå¯ä»¥ç”± state æ´¾ç”Ÿå‡ºæ–°çš„å€¼å¹¶ä¸”ç¼“å­˜å…¶è¾“å‡ºçš„ getterã€‚</li></ul><p>åƒæ•°ç»„ï¼ŒMaps å’Œ Sets è¿™æ ·çš„é›†åˆéƒ½å°†è¢«è‡ªåŠ¨è½¬åŒ–ä¸ºå¯è§‚å¯Ÿå¯¹è±¡ã€‚</p><blockquote><p>makeObservable<br>ç”¨æ³•ï¼š</p></blockquote><p><code>makeObservable(target, annotations?, options?)</code></p><p>è¿™ä¸ªå‡½æ•°å¯ä»¥æ•è·å·²ç»å­˜åœ¨çš„å¯¹è±¡å±æ€§å¹¶ä¸”ä½¿å¾—å®ƒä»¬å¯è§‚å¯Ÿã€‚ä»»ä½• JavaScript å¯¹è±¡ï¼ˆåŒ…æ‹¬ç±»çš„å®ä¾‹ï¼‰éƒ½å¯ä»¥ä½œä¸º target è¢«ä¼ é€’ç»™è¿™ä¸ªå‡½æ•°ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒmakeObservable æ˜¯åœ¨ç±»çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨çš„ï¼Œå¹¶ä¸”å®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ this</p><p>annotations å‚æ•°å°†ä¼šä¸ºæ¯ä¸€ä¸ªæˆå‘˜æ˜ å°„ æ³¨è§£ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ä½¿ç”¨ è£…é¥°å™¨ æ—¶ï¼Œannotations å‚æ•°å°†ä¼šè¢«å¿½ç•¥ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; makeObservable, observable, computed, action, flow &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mobx&quot;</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Doubler</span> &#123;<br>  value;<br><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">value</span>) &#123;<br>    <span class="hljs-title function_">makeObservable</span>(<span class="hljs-variable language_">this</span>, &#123;<br>      <span class="hljs-attr">value</span>: observable,<br>      <span class="hljs-attr">double</span>: computed,<br>      <span class="hljs-attr">increment</span>: action,<br>      <span class="hljs-attr">fetch</span>: flow,<br>    &#125;);<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = value;<br>  &#125;<br><br>  <span class="hljs-keyword">get</span> <span class="hljs-title function_">double</span>() &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> * <span class="hljs-number">2</span>;<br>  &#125;<br><br>  <span class="hljs-title function_">increment</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>++;<br>  &#125;<br><br>  *<span class="hljs-title function_">fetch</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">yield</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&quot;/api/value&quot;</span>);<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = response.<span class="hljs-title function_">json</span>();<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p><code>makeAutoObservable</code><br>ç”¨æ³•ï¼š</p></blockquote><p><code>makeAutoObservable(target, overrides?, options?)</code></p><p>makeAutoObservable å°±åƒæ˜¯åŠ å¼ºç‰ˆçš„ makeObservableï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹å®ƒå°†æ¨æ–­æ‰€æœ‰çš„å±æ€§ã€‚ä½ ä»ç„¶å¯ä»¥ä½¿ç”¨ overrides é‡å†™æŸäº›æ³¨è§£çš„é»˜è®¤è¡Œä¸ºã€‚ å…·ä½“æ¥è¯´ï¼Œfalse å¯ç”¨äºä»è‡ªåŠ¨å¤„ç†ä¸­æ’é™¤ä¸€ä¸ªå±æ€§æˆ–æ–¹æ³•ã€‚ æŸ¥çœ‹ä¸Šé¢çš„ä»£ç åˆ†é¡µè·å–ç¤ºä¾‹ã€‚ ä¸ä½¿ç”¨ makeObservable ç›¸æ¯”ï¼ŒmakeAutoObservable å‡½æ•°æ›´ç´§å‡‘ï¼Œä¹Ÿæ›´å®¹æ˜“ç»´æŠ¤ï¼Œå› ä¸ºæ–°æˆå‘˜ä¸éœ€è¦æ˜¾å¼åœ°æåŠã€‚ ç„¶è€Œï¼ŒmakeAutoObservable ä¸èƒ½è¢«ç”¨äºå¸¦æœ‰ super çš„ç±»æˆ– å­ç±»ã€‚</p><p>æ¨æ–­è§„åˆ™ï¼š</p><ul><li>æ‰€æœ‰ è‡ªæœ‰ å±æ€§éƒ½æˆä¸º observableã€‚</li><li>æ‰€æœ‰ getters éƒ½æˆä¸º computedã€‚</li><li>æ‰€æœ‰ setters éƒ½æˆä¸º actionã€‚</li><li>æ‰€æœ‰ prototype ä¸­çš„ functions éƒ½æˆä¸º autoActionã€‚</li><li>æ‰€æœ‰ prototype ä¸­çš„ generator functions éƒ½æˆä¸º flowã€‚ï¼ˆéœ€è¦æ³¨æ„ï¼Œgenerators å‡½æ•°åœ¨æŸäº›ç¼–è¯‘å™¨é…ç½®ä¸­æ— æ³•è¢«æ£€æµ‹åˆ°ï¼Œå¦‚æœ flow æ²¡æœ‰æ­£å¸¸è¿è¡Œï¼Œè¯·åŠ¡å¿…æ˜ç¡®åœ°æŒ‡å®š flow æ³¨è§£ã€‚ï¼‰</li><li>åœ¨ overrides å‚æ•°ä¸­æ ‡è®°ä¸º false çš„æˆå‘˜å°†ä¸ä¼šè¢«æ·»åŠ æ³¨è§£ã€‚ä¾‹å¦‚ï¼Œå°†å…¶ç”¨äºåƒæ ‡è¯†ç¬¦è¿™æ ·çš„åªè¯»å­—æ®µã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; makeAutoObservable &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mobx&quot;</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">createDoubler</span>(<span class="hljs-params">value</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">makeAutoObservable</span>(&#123;<br>    value,<br>    <span class="hljs-keyword">get</span> <span class="hljs-title function_">double</span>() &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> * <span class="hljs-number">2</span>;<br>    &#125;,<br>    <span class="hljs-title function_">increment</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>++;<br>    &#125;,<br>  &#125;);<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>observable</p></blockquote><p><code>observable(source, overrides?, options?)</code></p><p>observable æ³¨è§£å¯ä»¥ä½œä¸ºä¸€ä¸ªå‡½æ•°è¿›è¡Œè°ƒç”¨ï¼Œä»è€Œä¸€æ¬¡æ€§å°†æ•´ä¸ªå¯¹è±¡å˜æˆå¯è§‚å¯Ÿçš„ã€‚ source å¯¹è±¡å°†ä¼šè¢«å…‹éš†å¹¶ä¸”æ‰€æœ‰çš„æˆå‘˜éƒ½å°†ä¼šæˆä¸ºå¯è§‚å¯Ÿçš„ï¼Œç±»ä¼¼äº makeAutoObservable åšçš„é‚£æ ·ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; observable, autorun &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mobx&quot;</span>;<br><br><span class="hljs-keyword">const</span> todos = <span class="hljs-title function_">observable</span>([<br>  &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;Spoil tea&quot;</span>, <span class="hljs-attr">completed</span>: <span class="hljs-literal">true</span> &#125;,<br>  &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;Make coffee&quot;</span>, <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span> &#125;,<br>]);<br><br><span class="hljs-title function_">autorun</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<br>    <span class="hljs-string">&quot;Remaining:&quot;</span>,<br>    todos<br>      .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> !todo.<span class="hljs-property">completed</span>)<br>      .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> todo.<span class="hljs-property">title</span>)<br>      .<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;, &quot;</span>)<br>  );<br>&#125;);<br><span class="hljs-comment">// æ‰“å°: &#x27;Remaining: Make coffee&#x27;</span><br><br>todos[<span class="hljs-number">0</span>].<span class="hljs-property">completed</span> = <span class="hljs-literal">false</span>;<br><span class="hljs-comment">// æ‰“å°: &#x27;Remaining: Spoil tea, Make coffee&#x27;</span><br><br>todos[<span class="hljs-number">2</span>] = &#123; <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;Take a nap&quot;</span>, <span class="hljs-attr">completed</span>: <span class="hljs-literal">false</span> &#125;;<br><span class="hljs-comment">// æ‰“å°: &#x27;Remaining: Spoil tea, Make coffee, Take a nap&#x27;</span><br><br>todos.<span class="hljs-title function_">shift</span>();<br><span class="hljs-comment">// æ‰“å°: &#x27;Remaining: Make coffee, Take a nap&#x27;</span><br></code></pre></td></tr></table></figure><h1 id="observable-å’Œ-makeObservable-åŒºåˆ«"><a href="#observable-å’Œ-makeObservable-åŒºåˆ«" class="headerlink" title="observable å’Œ makeObservable åŒºåˆ«"></a>observable å’Œ makeObservable åŒºåˆ«</h1><p>make(Auto)Observable å’Œ observable ä¹‹é—´æœ€ä¸»è¦çš„åŒºåˆ«åœ¨äºï¼Œmake(Auto)Observable ä¼šä¿®æ”¹ä½ ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„å¯¹è±¡ï¼Œè€Œ observable ä¼šåˆ›å»ºä¸€ä¸ªå¯è§‚å¯Ÿçš„ å‰¯æœ¬ å¯¹è±¡ã€‚</p><p>ç¬¬äºŒä¸ªåŒºåˆ«æ˜¯ï¼Œobservable ä¼šåˆ›å»ºä¸€ä¸ª Proxy å¯¹è±¡ï¼Œä»¥ä¾¿èƒ½å¤Ÿåœ¨ä½ å°†è¯¥å¯¹è±¡å½“ä½œåŠ¨æ€æŸ¥è¯¢æ˜ å°„ä½¿ç”¨æ—¶æ•è·å°†è¦æ·»åŠ çš„å±æ€§ã€‚ å¦‚æœä½ æƒ³æŠŠä¸€ä¸ªå¯¹è±¡è½¬åŒ–ä¸ºå¯è§‚å¯Ÿå¯¹è±¡ï¼Œè€Œè¿™ä¸ªå¯¹è±¡å…·æœ‰ä¸€ä¸ªå¸¸è§„ç»“æ„ï¼Œå…¶ä¸­æ‰€æœ‰çš„æˆå‘˜éƒ½æ˜¯äº‹å…ˆå·²çŸ¥çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å»ºè®®ä½¿ç”¨ makeObservableï¼Œå› ä¸ºéä»£ç†å¯¹è±¡çš„é€Ÿåº¦ç¨å¿«ä¸€äº›ï¼Œè€Œä¸”å®ƒä»¬åœ¨è°ƒè¯•å™¨å’Œ console.log ä¸­æ›´å®¹æ˜“æ£€æŸ¥ã€‚</p><p>å› æ­¤ï¼Œmake(Auto)Observable æ¨èåœ¨å·¥å‚å‡½æ•°ä¸­ä½¿ç”¨ã€‚ å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå¯ä»¥å°† { proxy: false } ä½œä¸º option ä¼ å…¥ observable è·å–éä»£ç†å‰¯æœ¬ã€‚</p><h1 id="å¯ç”¨çš„æ³¨è§£"><a href="#å¯ç”¨çš„æ³¨è§£" class="headerlink" title="å¯ç”¨çš„æ³¨è§£"></a>å¯ç”¨çš„æ³¨è§£</h1><p><img src="/img/mobx/mobx-state1.png"></p><h2 id="option"><a href="#option" class="headerlink" title="option"></a>option</h2><p>Options {ğŸš€}<br>ä¸Šé¢çš„ API éƒ½æœ‰ä¸€ä¸ªå¯é€‰çš„ options å‚æ•°ï¼Œè¯¥å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ”¯æŒä»¥ä¸‹é€‰é¡¹ï¼š</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vbnet"><span class="hljs-symbol">autoBind:</span> <span class="hljs-literal">true</span> é»˜è®¤ä½¿ç”¨ action.bound/flow.boundï¼Œè€Œä¸ä½¿ç”¨ action/flowã€‚ä¸å½±å“è¢«æ˜¾å¼æ³¨é‡Šè¿‡çš„æˆå‘˜ã€‚<br><span class="hljs-symbol">deep:</span> <span class="hljs-literal">false</span> é»˜è®¤ä½¿ç”¨ observable.refï¼Œè€Œä¸ä½¿ç”¨ observableã€‚ä¸å½±å“è¢«æ˜¾å¼æ³¨é‡Šè¿‡çš„æˆå‘˜ã€‚<br><span class="hljs-symbol">name:</span> &lt;<span class="hljs-type">string</span>&gt; ä¸ºå¯¹è±¡æä¾›ä¸€ä¸ªè°ƒè¯•åç§°ï¼Œè¯¥åç§°å°†è¢«æ‰“å°åœ¨é”™è¯¯æ¶ˆæ¯å’Œ reflection API ä¸­ã€‚<br><span class="hljs-symbol">proxy:</span> <span class="hljs-literal">false</span> è¿«ä½¿ observable(thing) ä½¿ç”¨é proxy çš„å®ç°ã€‚å¦‚æœå¯¹è±¡çš„ç»“æ„ä¸ä¼šéšç€æ—¶é—´å˜åŒ–ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œå› ä¸ºéä»£ç†å¯¹è±¡æ›´å®¹æ˜“è°ƒè¯•å¹¶ä¸”é€Ÿåº¦æ›´å¿«ã€‚è¯·å‚è§ é¿å…ä»£ç†ã€‚<br></code></pre></td></tr></table></figure><h1 id="å°†-observable-è½¬æ¢å›æ™®é€šçš„-JavaScript-é›†åˆ"><a href="#å°†-observable-è½¬æ¢å›æ™®é€šçš„-JavaScript-é›†åˆ" class="headerlink" title="å°† observable è½¬æ¢å›æ™®é€šçš„ JavaScript é›†åˆ"></a>å°† observable è½¬æ¢å›æ™®é€šçš„ JavaScript é›†åˆ</h1><p>æœ‰æ—¶æœ‰å¿…è¦å°†å¯è§‚å¯Ÿçš„æ•°æ®ç»“æ„è½¬æ¢å›åŸç”Ÿçš„æ•°æ®ç»“æ„ã€‚ ä¾‹å¦‚ï¼Œå°†å¯è§‚å¯Ÿå¯¹è±¡ä¼ å…¥ä¸€ä¸ªæ— æ³•è·Ÿè¸ªå¯è§‚å¯Ÿå¯¹è±¡çš„ React ç»„ä»¶æ—¶ï¼Œæˆ–è€…æƒ³è¦è·å–ä¸€ä¸ªä¸ä¼šå†è¢«æ›´æ”¹çš„å‰¯æœ¬æ—¶ã€‚</p><p>è¦è¿›è¡Œæµ…è½¬æ¢ï¼Œç”¨å¸¸ç”¨çš„ JavaScript æ“ä½œå°±å¯ä»¥åšåˆ°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> plainObject = &#123; ...observableObject &#125;;<br><span class="hljs-keyword">const</span> plainArray = observableArray.<span class="hljs-title function_">slice</span>();<br><span class="hljs-keyword">const</span> plainMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(observableMap);<br></code></pre></td></tr></table></figure><p>è¦å°†æ•°æ®æ ‘é€’å½’åœ°è½¬æ¢ä¸ºæ™®é€šå¯¹è±¡ï¼Œå¯ä½¿ç”¨ toJS å·¥å…·å‡½æ•°ã€‚ å¯¹äºç±»ï¼Œå»ºè®®å®ç°ä¸€ä¸ª toJSON() æ–¹æ³•ï¼Œå› ä¸ºè¿™æ ·ä¼šè¢« JSON.stringify è¯†åˆ«å‡ºæ¥ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>mobx</tag>
      
      <tag>observable</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å…³äºmobx</title>
    <link href="/2022/10/09/%E5%85%B3%E4%BA%8Emobx/"/>
    <url>/2022/10/09/%E5%85%B3%E4%BA%8Emobx/</url>
    
    <content type="html"><![CDATA[<h1 id="å…³äº-mobx"><a href="#å…³äº-mobx" class="headerlink" title="å…³äº mobx"></a>å…³äº mobx</h1><p>MobX æ˜¯ä¸€ä¸ªç®€å•ã€å¯æ‰©å±•ä¸”ç»è¿‡å®æˆ˜è€ƒéªŒçš„çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆ,ã€‚ MobX æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åº“ï¼Œä½†å¤§å¤šæ•°äººå°†å®ƒä¸ React ä¸€èµ·ä½¿ç”¨</p><h2 id="The-core-idea"><a href="#The-core-idea" class="headerlink" title="The core idea"></a>The core idea</h2><p>çŠ¶æ€æ˜¯æ¯ä¸ªåº”ç”¨çš„æ ¸å¿ƒã€‚å¦‚æœä½ æƒ³æ‰“é€ å‡ºæ¼æ´ç™¾å‡ºåˆéš¾ä»¥ç®¡ç†çš„åº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆæå‡ºä¸ä¸€è‡´çš„çŠ¶æ€æˆ–ä¸å¾˜å¾Šç€çš„å±€éƒ¨å˜é‡ä¸åŒæ­¥çš„çŠ¶æ€å°±æ˜¯æœ€å¿«çš„æ–¹æ³•ã€‚</p><p>å› æ­¤ï¼Œè®¸å¤šçŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆè¯•å›¾é™åˆ¶æ‚¨å¯ä»¥ä¿®æ”¹çŠ¶æ€çš„æ–¹å¼ï¼Œä¾‹å¦‚é€šè¿‡ä½¿çŠ¶æ€ä¸å¯å˜ã€‚ä½†è¿™å¸¦æ¥äº†æ–°çš„é—®é¢˜ï¼›æ•°æ®éœ€è¦è§„èŒƒåŒ–ï¼Œå¼•ç”¨å®Œæ•´æ€§ä¸å†å¾—åˆ°ä¿è¯ï¼Œå¹¶ä¸”å‡ ä¹ä¸å¯èƒ½ä½¿ç”¨å¼ºå¤§çš„æ¦‚å¿µï¼Œå¦‚ç±»ï¼Œ</p><p><img src="/img/mobx/mobx-flow1.png"></p><ol><li>é¦–å…ˆæ˜¯ åº”ç”¨çŠ¶æ€ã€‚å°±æ˜¯é‚£äº›å‘ˆå›¾çŠ¶ç»“æ„åˆ†å¸ƒã€ç»„æˆä½ åº”ç”¨çŠ¶æ€æ¨¡å‹çš„å¯¹è±¡ã€æ•°ç»„ã€åŸå§‹å€¼å’Œå¼•ç”¨ã€‚è¿™äº›å€¼æ˜¯ä½ åº”ç”¨ä¸­çš„â€œå•å…ƒæ ¼â€ã€‚</li><li>å…¶æ¬¡æ˜¯ derivationsã€‚ä¹Ÿå°±æ˜¯ä»»ä½•å¯ä»¥ä»ä½ çš„åº”ç”¨çŠ¶æ€ä¸­è¢«è‡ªåŠ¨è®¡ç®—å‡ºæ¥çš„å€¼ã€‚è¿™äº› derivations â€”â€”æˆ–è€…è®¡ç®—å€¼â€”â€”å¯ä»¥æ˜¯ç®€å•çš„å€¼ï¼Œæ¯”å¦‚æœªå®Œæˆå¾…åŠçš„ä¸ªæ•°ï¼›ä¹Ÿå¯ä»¥æ˜¯å¤æ‚çš„å€¼ï¼Œæ¯”å¦‚ä½ å¾…åŠæ¸…å•çš„ HTML è§†è§‰è¡¨ç¤ºã€‚</li><li>Reactions ä¸ derivations éå¸¸ç›¸ä¼¼ã€‚ä½†ä¸»è¦çš„åŒºåˆ«åœ¨äºè¿™äº›å‡½æ•°ä¸ä¼šè¿”å›å€¼ï¼Œè€Œä¼šè‡ªåŠ¨æ‰§è¡Œä¸€äº›ä»»åŠ¡ã€‚é€šå¸¸è¿™äº›ä»»åŠ¡ä¸ I/O æœ‰å…³ã€‚å®ƒä»¬ä¼šç¡®ä¿ DOM çš„æ›´æ–°æˆ–è€…åœ¨å¯¹çš„æ—¶é—´è‡ªåŠ¨å‘å‡ºç½‘ç»œè¯·æ±‚ã€‚</li><li>æœ€åæ˜¯ actionsã€‚actions å°±æ˜¯æ‰€æœ‰ä¼šä¿®æ”¹çŠ¶æ€çš„ä»£ç ã€‚MobX ä¼šè®©æ‰€æœ‰ç”±äºä½ çš„ actions å¼•å‘çš„åº”ç”¨çŠ¶æ€çš„æ”¹å˜éƒ½è¢«å…¨éƒ¨ derivations å’Œ reactions åŒæ­¥è€Œé¡ºç•…åœ°è‡ªåŠ¨å¤„ç†æ‰ã€‚</li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>mobx</tag>
      
      <tag>mobx6</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>mobxè®¡ç®—å±æ€§ä½¿ç”¨actionçš„é—®é¢˜</title>
    <link href="/2022/09/29/%E5%BC%80%E5%8F%91%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/mobx%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E4%BD%BF%E7%94%A8action%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <url>/2022/09/29/%E5%BC%80%E5%8F%91%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/mobx%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E4%BD%BF%E7%94%A8action%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="å¦‚æœåœ¨-mobx-è®¡ç®—å±æ€§ä¸­ï¼Œä½¿ç”¨-action-ä¼šå‘ç”Ÿä»€ä¹ˆ"><a href="#å¦‚æœåœ¨-mobx-è®¡ç®—å±æ€§ä¸­ï¼Œä½¿ç”¨-action-ä¼šå‘ç”Ÿä»€ä¹ˆ" class="headerlink" title="å¦‚æœåœ¨ mobx è®¡ç®—å±æ€§ä¸­ï¼Œä½¿ç”¨ action ä¼šå‘ç”Ÿä»€ä¹ˆ"></a>å¦‚æœåœ¨ mobx è®¡ç®—å±æ€§ä¸­ï¼Œä½¿ç”¨ action ä¼šå‘ç”Ÿä»€ä¹ˆ</h1><p>æƒ…å†µ 1:<br>å¦‚æœ computed å±æ€§ æ‰§è¡Œçš„ actionï¼Œä¸ä¼šè®© computed å†æ¬¡è®¡ç®—ï¼Œå°±ä¸ä¼šæœ‰é—®é¢˜</p><p><img src="/img/mobx/mobx%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E4%BD%BF%E7%94%A8action%E7%9A%84%E9%97%AE%E9%A2%981.png"></p><p>æƒ…å†µ 2:</p><p>å¦‚æœ computed å±æ€§ æ‰§è¡Œçš„ actionï¼Œä¼šè®© computed å†æ¬¡è®¡ç®—ï¼Œå°±ä¼šè¿›å…¥æ­»å¾ªç¯</p><p><img src="/img/mobx/mobx%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E4%BD%BF%E7%94%A8action%E7%9A%84%E9%97%AE%E9%A2%982.png"></p>]]></content>
    
    
    
    <tags>
      
      <tag>mobx</tag>
      
      <tag>bug</tag>
      
      <tag>mobx action</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¨¡æ‹Ÿmobx-computed-propertyè®¡ç®—å±æ€§</title>
    <link href="/2022/09/29/%E6%A8%A1%E6%8B%9Fmobx-computed-property%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7/"/>
    <url>/2022/09/29/%E6%A8%A1%E6%8B%9Fmobx-computed-property%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¨¡æ‹Ÿ-Mock-çš„è®¡ç®—å±æ€§"><a href="#æ¨¡æ‹Ÿ-Mock-çš„è®¡ç®—å±æ€§" class="headerlink" title="æ¨¡æ‹Ÿ Mock çš„è®¡ç®—å±æ€§"></a>æ¨¡æ‹Ÿ Mock çš„è®¡ç®—å±æ€§</h1><p>Mock çš„è®¡ç®—å±æ€§éƒ½æ˜¯ä¸å¯è¯»å†™çš„ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Store</span>();<br>store.<span class="hljs-property">computedX</span> = <span class="hljs-number">1</span>; <span class="hljs-comment">// error</span><br></code></pre></td></tr></table></figure><p>éœ€è¦ä½¿ç”¨<code>jest.spyOn</code>æ¨¡æ‹Ÿ<code>get</code>å‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">jest.<span class="hljs-title function_">spyOn</span>(storeClass, <span class="hljs-string">&#x27;computedProperty&#x27;</span>, <span class="hljs-string">&#x27;get&#x27;</span>).<span class="hljs-title function_">mockReturnValue</span>(...)<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>jest</tag>
      
      <tag>mobx</tag>
      
      <tag>test</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>2022å¹´ä¸‹åŠå¹´èŒä¸šè§„åˆ’</title>
    <link href="/2022/09/27/2022%E5%B9%B4%E4%B8%8B%E5%8D%8A%E5%B9%B4%E8%81%8C%E4%B8%9A%E8%A7%84%E5%88%92/"/>
    <url>/2022/09/27/2022%E5%B9%B4%E4%B8%8B%E5%8D%8A%E5%B9%B4%E8%81%8C%E4%B8%9A%E8%A7%84%E5%88%92/</url>
    
    <content type="html"><![CDATA[<h1 id="2022-å¹´ä¸‹åŠå¹´å‘å±•è§„åˆ’"><a href="#2022-å¹´ä¸‹åŠå¹´å‘å±•è§„åˆ’" class="headerlink" title="2022 å¹´ä¸‹åŠå¹´å‘å±•è§„åˆ’"></a>2022 å¹´ä¸‹åŠå¹´å‘å±•è§„åˆ’</h1><p><strong>æœ‰å‰è¾ˆçš„æŒ‡ç‚¹æ˜¯å¹¸ç¦çš„, å—å‰è¾ˆçš„ç†é™¶æ˜¯å¹¸è¿çš„, èƒ½è®©æˆ‘ä»¬å°‘èµ°å¾ˆå¤šå¼¯è·¯ã€‚</strong></p><hr><pre><code class="hljs">ä»ä¸‰ä¸ªæ–¹é¢æ¥æå‡è‡ªå·±ï¼Œç¬¬ä¸€æ˜¯æå‡ç¡¬å®åŠ›ï¼Œç¬¬äºŒæ˜¯æå‡æ•ˆç‡ï¼Œç¬¬ä¸‰æ˜¯å¤ç›˜æ€»ç»“ï¼Œé‚£ä¸ªæ–¹å‘éƒ½éœ€è¦æœ‰äº§å‡ºï¼Œå¦‚äº§å‡ºä»£ç /æ–‡æ¡£ã€‚</code></pre><ol><li><p>é¦–å…ˆåšä¸€ä¸ªä¼˜ç§€çš„ç¨‹åºå‘˜ï¼Œç»ƒå°±æ‰å®çš„ç¡¬æŠ€èƒ½ï¼Œéœ€è¦æœ‰äº§å‡º</p><p>1.1 æ·±å…¥å­¦ä¹  React å’Œ Mobx è¿è¡ŒåŸç†ï¼Œå¸¸ç”¨åŠŸèƒ½éœ€è¦åšä¸€ä¸ªç¤ºä¾‹ä»£ç å‡ºæ¥ï¼Œæå‡ç¼–ç èƒ½åŠ›ã€‚</p><p>1.2 æ·±å…¥å­¦ä¹  CSS LESS CSS3 åŠ¨ç”»è¿è¡ŒåŸç†ï¼Œæ¯ä¸ªçŸ¥è¯†ç‚¹å†™ä¸€ä¸ªäº§å‡ºä¸€ä¸ªç¤ºä¾‹ä»£ç ï¼Œæå‡ç¼–ç èƒ½åŠ›ã€‚</p><p>1.3 æ·±å…¥äº†è§£ React æ€§èƒ½ä¼˜åŒ–ï¼Œæ€»ç»“å¸¸è§çš„æ€§èƒ½é—®é¢˜ä¾‹å­ï¼Œäº§å‡ºæ€§èƒ½ä¼˜åŒ–å‰åå¯¹æ¯”çš„ä»£ç ç¤ºä¾‹ã€‚</p></li><li><p>æŒæ¡å·¥ä½œæµç¨‹å’Œæ–¹æ³•ï¼Œæé«˜æ²Ÿé€šæ•ˆç‡ ï¼ˆè½¯æŠ€èƒ½/è¾…åŠ©æŠ€èƒ½ï¼‰ï¼Œéœ€è¦è¯´åˆ°åšåˆ°</p><p>2.1 ä¸¥æ ¼è¦æ±‚æ‰§è¡Œ OKG å›¢é˜Ÿå·¥ä½œæµç¨‹</p><p>2.2 X-Y é—®é¢˜ ï¼ˆæé«˜æ²Ÿé€šæ•ˆç‡ï¼‰</p><p>2.3 éœ€æ±‚è¯„å®¡ï¼ŒæŠ€æœ¯è¯„å®¡ï¼Œéœ€è¦äº§å‡ºé«˜è´¨é‡æŠ€æœ¯æ–‡æ¡£ã€‚å’Œ leader è¿‡è¯¦ç»†è®¾è®¡æ–¹æ¡ˆã€‚</p></li><li><p>æå‡å‘ç°é—®é¢˜/è§£å†³é—®é¢˜/æ€»ç»“é—®é¢˜çš„èƒ½åŠ›</p><p>3.1 æå‡ºé—®é¢˜å‰ï¼Œå¤šæ€è€ƒé—®é¢˜ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿ</p><p>3.2 è§£å†³é—®é¢˜ï¼Œ</p><p>3.3 æ€»ç»“ï¼Œå¤ç›˜ï¼Œé—®é¢˜çš„åŸå› ã€‚æå‡ºæ”¹è¿›æªæ–½ã€‚</p></li><li><p>ä¸»åŠ¨åšäº‹çš„æ‰§è¡ŒåŠ›,å†…é©±åŠ›</p><p>4.1 ç»™ä½ ä»€ä¹ˆåšä»€ä¹ˆ -&gt; æ²¡äººç»™ä½ æ—¶, è‡ªå·±å†³å®šåšä»€ä¹ˆ, æ€è€ƒæ€ä¹ˆåš, ä¸ºä»€ä¹ˆåš</p></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>èŒä¸šå‘å±•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å·¥ä½œæµç¨‹å’Œæ–¹æ³•</title>
    <link href="/2022/09/27/%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%E5%92%8C%E6%96%B9%E6%B3%95/"/>
    <url>/2022/09/27/%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%E5%92%8C%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>ç›’æ¨¡å‹</title>
    <link href="/2022/08/25/%E7%9B%92%E6%A8%A1%E5%9E%8B/"/>
    <url>/2022/08/25/%E7%9B%92%E6%A8%A1%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<p>åœ¨ CSS ä¸­ï¼Œæ‰€æœ‰çš„å…ƒç´ éƒ½è¢«ä¸€ä¸ªä¸ªçš„â€œç›’å­ï¼ˆboxï¼‰â€åŒ…å›´ç€ï¼Œç†è§£è¿™äº›â€œç›’å­â€çš„åŸºæœ¬åŸç†ï¼Œæ˜¯æˆ‘ä»¬ä½¿ç”¨ CSS å®ç°å‡†ç¡®å¸ƒå±€ã€å¤„ç†å…ƒç´ æ’åˆ—çš„å…³é”®ã€‚</p><h1 id="å—çº§ç›’å­ï¼ˆBlock-boxï¼‰-å’Œ-å†…è”ç›’å­ï¼ˆInline-boxï¼‰"><a href="#å—çº§ç›’å­ï¼ˆBlock-boxï¼‰-å’Œ-å†…è”ç›’å­ï¼ˆInline-boxï¼‰" class="headerlink" title="å—çº§ç›’å­ï¼ˆBlock boxï¼‰ å’Œ å†…è”ç›’å­ï¼ˆInline boxï¼‰"></a>å—çº§ç›’å­ï¼ˆBlock boxï¼‰ å’Œ å†…è”ç›’å­ï¼ˆInline boxï¼‰</h1><p>åœ¨ CSS ä¸­æˆ‘ä»¬å¹¿æ³›åœ°ä½¿ç”¨ä¸¤ç§â€œç›’å­â€ â€”â€” <strong>å—çº§ç›’å­</strong> (block box) å’Œ <strong>å†…è”ç›’å­</strong> (inline box)ã€‚è¿™ä¸¤ç§ç›’å­ä¼šåœ¨<strong>é¡µé¢æµ</strong>ï¼ˆpage flowï¼‰å’Œå…ƒç´ ä¹‹é—´çš„å…³ç³»æ–¹é¢è¡¨ç°å‡ºä¸åŒçš„è¡Œä¸ºï¼š</p><p><strong>ä¸€ä¸ªè¢«å®šä¹‰æˆå—çº§çš„ï¼ˆblockï¼‰ç›’å­ä¼šè¡¨ç°å‡ºä»¥ä¸‹è¡Œä¸ºï¼š</strong></p><ul><li>ç›’å­ä¼šåœ¨å†…è”çš„æ–¹å‘ä¸Šæ‰©å±•å¹¶å æ®çˆ¶å®¹å™¨åœ¨è¯¥æ–¹å‘ä¸Šçš„æ‰€æœ‰å¯ç”¨ç©ºé—´ï¼Œåœ¨ç»å¤§æ•°æƒ…å†µä¸‹æ„å‘³ç€ç›’å­ä¼šå’Œçˆ¶å®¹å™¨ä¸€æ ·å®½</li><li>æ¯ä¸ªç›’å­éƒ½ä¼šæ¢è¡Œ</li><li>width å’Œ height å±æ€§å¯ä»¥å‘æŒ¥ä½œç”¨</li><li>å†…è¾¹è·ï¼ˆpaddingï¼‰, å¤–è¾¹è·ï¼ˆmarginï¼‰å’Œ è¾¹æ¡†ï¼ˆborderï¼‰ä¼šå°†å…¶ä»–å…ƒç´ ä»å½“å‰ç›’å­å‘¨å›´â€œæ¨å¼€â€</li></ul><p>é™¤éç‰¹æ®ŠæŒ‡å®šï¼Œè¯¸å¦‚æ ‡é¢˜ (<h1>ç­‰) å’Œæ®µè½ (<p>) é»˜è®¤æƒ…å†µä¸‹éƒ½æ˜¯å—çº§çš„ç›’å­ã€‚</p><p><strong>å¦‚æœä¸€ä¸ªç›’å­å¯¹å¤–æ˜¾ç¤ºä¸º inlineï¼Œé‚£ä¹ˆä»–çš„è¡Œä¸ºå¦‚ä¸‹ï¼š</strong></p><ul><li>ç›’å­ä¸ä¼šäº§ç”Ÿæ¢è¡Œã€‚</li><li>width å’Œ height å±æ€§å°†ä¸èµ·ä½œç”¨ã€‚</li><li>å‚ç›´æ–¹å‘çš„å†…è¾¹è·ã€å¤–è¾¹è·ä»¥åŠè¾¹æ¡†ä¼šè¢«åº”ç”¨ä½†æ˜¯ä¸ä¼šæŠŠå…¶ä»–å¤„äº inline çŠ¶æ€çš„ç›’å­æ¨å¼€ã€‚</li><li>æ°´å¹³æ–¹å‘çš„å†…è¾¹è·ã€å¤–è¾¹è·ä»¥åŠè¾¹æ¡†ä¼šè¢«åº”ç”¨ä¸”ä¼šæŠŠå…¶ä»–å¤„äº inline çŠ¶æ€çš„ç›’å­æ¨å¼€ã€‚</li></ul><p>ç”¨åšé“¾æ¥çš„ <a> å…ƒç´ ã€ <span>ã€ <em> ä»¥åŠ <strong> éƒ½æ˜¯é»˜è®¤å¤„äº inline çŠ¶æ€çš„ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
      <tag>css</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CSSé€‰æ‹©å™¨</title>
    <link href="/2022/08/25/CSS%E9%80%89%E6%8B%A9%E5%99%A8/"/>
    <url>/2022/08/25/CSS%E9%80%89%E6%8B%A9%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="é€‰æ‹©å™¨åˆ—è¡¨"><a href="#é€‰æ‹©å™¨åˆ—è¡¨" class="headerlink" title="é€‰æ‹©å™¨åˆ—è¡¨"></a>é€‰æ‹©å™¨åˆ—è¡¨</h1><p>å¦‚æœä½ æœ‰å¤šä¸ªä½¿ç”¨ç›¸åŒæ ·å¼çš„ CSS é€‰æ‹©å™¨ï¼Œé‚£ä¹ˆè¿™äº›å•ç‹¬çš„é€‰æ‹©å™¨å¯ä»¥è¢«æ··ç¼–ä¸ºä¸€ä¸ªâ€œé€‰æ‹©å™¨åˆ—è¡¨â€ï¼Œè¿™æ ·ï¼Œè§„åˆ™å°±å¯ä»¥åº”ç”¨åˆ°æ‰€æœ‰çš„å•ä¸ªé€‰æ‹©å™¨ä¸Šäº†ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘çš„h1å’Œ.specialç±»æœ‰ç›¸åŒçš„ CSSï¼Œé‚£ä¹ˆæˆ‘å¯ä»¥æŠŠå®ƒä»¬å†™æˆä¸¤ä¸ªåˆ†å¼€çš„è§„åˆ™ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span> &#123;<br>  <span class="hljs-attribute">color</span>: blue;<br>&#125;<br><br><span class="hljs-selector-class">.special</span> &#123;<br>  <span class="hljs-attribute">color</span>: blue;<br>&#125;<br></code></pre></td></tr></table></figure><p>æˆ‘ä¹Ÿå¯ä»¥å°†å®ƒä»¬ç»„åˆèµ·æ¥ï¼Œåœ¨å®ƒä»¬ä¹‹é—´åŠ ä¸Šä¸€ä¸ªé€—å·ï¼Œå˜ä¸ºé€‰æ‹©å™¨åˆ—è¡¨ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span>, <span class="hljs-selector-class">.special</span> &#123;<br><span class="hljs-attribute">color</span>: blue;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="é€‰æ‹©å™¨çš„ç§ç±»"><a href="#é€‰æ‹©å™¨çš„ç§ç±»" class="headerlink" title="é€‰æ‹©å™¨çš„ç§ç±»"></a>é€‰æ‹©å™¨çš„ç§ç±»</h1><p>æœ‰å‡ ç»„ä¸åŒçš„é€‰æ‹©å™¨ï¼ŒçŸ¥é“äº†éœ€è¦å“ªç§é€‰æ‹©å™¨ï¼Œä½ ä¼šæ›´å®¹æ˜“æ­£ç¡®ä½¿ç”¨å®ƒä»¬ã€‚åœ¨æœ¬æ–‡çš„å­ç¯‡ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šæ¥æ›´è¯¦ç»†åœ°çœ‹ä¸‹ä¸åŒç§ç±»çš„é€‰æ‹©å™¨ã€‚</p><p>ç±»å‹ã€ç±»å’Œ ID é€‰æ‹©å™¨<br>è¿™ä¸ªé€‰æ‹©å™¨ç»„ï¼Œç¬¬ä¸€ä¸ªæ˜¯æŒ‡å‘äº†æ‰€æœ‰ HTML å…ƒç´ <h1>ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">h1</span> &#123; &#125;<br></code></pre></td></tr></table></figure><p>å®ƒä¹ŸåŒ…å«äº†ä¸€ä¸ª class çš„é€‰æ‹©å™¨ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box</span> &#123; &#125;<br></code></pre></td></tr></table></figure><p>äº¦æˆ–ï¼Œä¸€ä¸ª id é€‰æ‹©å™¨ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-id">#unique</span> &#123; &#125;<br></code></pre></td></tr></table></figure><h2 id="æ ‡ç­¾å±æ€§é€‰æ‹©å™¨"><a href="#æ ‡ç­¾å±æ€§é€‰æ‹©å™¨" class="headerlink" title="æ ‡ç­¾å±æ€§é€‰æ‹©å™¨"></a>æ ‡ç­¾å±æ€§é€‰æ‹©å™¨</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[title]</span> &#123; &#125;<br></code></pre></td></tr></table></figure><p>æˆ–è€…æ ¹æ®ä¸€ä¸ªæœ‰ç‰¹å®šå€¼çš„æ ‡ç­¾å±æ€§æ˜¯å¦å­˜åœ¨æ¥é€‰æ‹©ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[href=<span class="hljs-string">&quot;https://example.com&quot;</span>]</span> &#123; &#125;<br></code></pre></td></tr></table></figure><h2 id="ä¼ªç±»ä¸ä¼ªå…ƒç´ "><a href="#ä¼ªç±»ä¸ä¼ªå…ƒç´ " class="headerlink" title="ä¼ªç±»ä¸ä¼ªå…ƒç´ "></a>ä¼ªç±»ä¸ä¼ªå…ƒç´ </h2><p>è¿™ç»„é€‰æ‹©å™¨åŒ…å«äº†ä¼ªç±»ï¼Œç”¨æ¥æ ·å¼åŒ–ä¸€ä¸ªå…ƒç´ çš„ç‰¹å®šçŠ¶æ€ã€‚ä¾‹å¦‚:hoverä¼ªç±»ä¼šåœ¨é¼ æ ‡æŒ‡é’ˆæ‚¬æµ®åˆ°ä¸€ä¸ªå…ƒç´ ä¸Šçš„æ—¶å€™é€‰æ‹©è¿™ä¸ªå…ƒç´ ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> &#123; &#125;<br></code></pre></td></tr></table></figure><p>å®ƒè¿˜å¯ä»¥åŒ…å«äº†ä¼ªå…ƒç´ ï¼Œé€‰æ‹©ä¸€ä¸ªå…ƒç´ çš„æŸä¸ªéƒ¨åˆ†è€Œä¸æ˜¯å…ƒç´ è‡ªå·±ã€‚ä¾‹å¦‚ï¼Œ::first-lineæ˜¯ä¼šé€‰æ‹©ä¸€ä¸ªå…ƒç´ ï¼ˆä¸‹é¢çš„æƒ…å†µä¸­æ˜¯<p>ï¼‰ä¸­çš„ç¬¬ä¸€è¡Œï¼Œç±»ä¼¼<span>åŒ…åœ¨äº†ç¬¬ä¸€ä¸ªè¢«æ ¼å¼åŒ–çš„è¡Œå¤–é¢ï¼Œç„¶åé€‰æ‹©è¿™ä¸ª<span>ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">::first-line</span> &#123; &#125;<br></code></pre></td></tr></table></figure><h2 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h2><p>æœ€åä¸€ç»„é€‰æ‹©å™¨å¯ä»¥å°†å…¶ä»–é€‰æ‹©å™¨ç»„åˆèµ·æ¥ï¼Œæ›´å¤æ‚çš„é€‰æ‹©å…ƒç´ ã€‚ä¸‹é¢çš„ç¤ºä¾‹ç”¨è¿ç®—ç¬¦ï¼ˆ&gt;ï¼‰é€‰æ‹©äº†<article>å…ƒç´ çš„åˆä»£å­å…ƒç´ ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">article</span> &gt; <span class="hljs-selector-tag">p</span> &#123; &#125;<br></code></pre></td></tr></table></figure><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs less">é€‰æ‹©å™¨ç¤ºä¾‹å­¦ä¹  <span class="hljs-selector-tag">CSS</span> çš„æ•™ç¨‹<br>ç±»å‹é€‰æ‹©å™¨<span class="hljs-selector-tag">h1</span> &#123; &#125;ç±»å‹é€‰æ‹©å™¨<br>é€šé…é€‰æ‹©å™¨* &#123; &#125;é€šé…é€‰æ‹©å™¨<br>ç±»é€‰æ‹©å™¨<span class="hljs-selector-class">.box</span> &#123; &#125;ç±»é€‰æ‹©å™¨<br><span class="hljs-selector-tag">ID</span> é€‰æ‹©å™¨<span class="hljs-selector-id">#unique</span> &#123; &#125;<span class="hljs-selector-tag">ID</span> é€‰æ‹©å™¨<br>æ ‡ç­¾å±æ€§é€‰æ‹©å™¨<span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[title]</span> &#123; &#125;æ ‡ç­¾å±æ€§é€‰æ‹©å™¨<br>ä¼ªç±»é€‰æ‹©å™¨<span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">:first</span><span class="hljs-selector-tag">-child</span> &#123; &#125;ä¼ªç±»<br>ä¼ªå…ƒç´ é€‰æ‹©å™¨<span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">::first-line</span> &#123; &#125;ä¼ªå…ƒç´ <br>åä»£é€‰æ‹©å™¨<span class="hljs-selector-tag">article</span> <span class="hljs-selector-tag">p</span>åä»£è¿ç®—ç¬¦<br>å­ä»£é€‰æ‹©å™¨<span class="hljs-selector-tag">article</span> &gt; <span class="hljs-selector-tag">p</span>å­ä»£é€‰æ‹©å™¨<br>ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨<span class="hljs-selector-tag">h1</span> + <span class="hljs-selector-tag">p</span>ç›¸é‚»å…„å¼Ÿ<br>é€šç”¨å…„å¼Ÿé€‰æ‹©å™¨<span class="hljs-selector-tag">h1</span> ~ <span class="hljs-selector-tag">p</span>é€šç”¨å…„å¼Ÿ<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
      <tag>css</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CSSç†è§£æœ¬è´¨</title>
    <link href="/2022/08/25/CSS%E7%90%86%E8%A7%A3%E6%9C%AC%E8%B4%A8/"/>
    <url>/2022/08/25/CSS%E7%90%86%E8%A7%A3%E6%9C%AC%E8%B4%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="ç†è§£ç»§æ‰¿"><a href="#ç†è§£ç»§æ‰¿" class="headerlink" title="ç†è§£ç»§æ‰¿"></a>ç†è§£ç»§æ‰¿</h1><p>CSS ä¸ºæ§åˆ¶ç»§æ‰¿æä¾›äº†äº”ä¸ªç‰¹æ®Šçš„é€šç”¨å±æ€§å€¼ã€‚æ¯ä¸ª css å±æ€§éƒ½æ¥æ”¶è¿™äº›å€¼ã€‚</p><p><strong>inherit</strong><br>è®¾ç½®è¯¥å±æ€§ä¼šä½¿å­å…ƒç´ å±æ€§å’Œçˆ¶å…ƒç´ ç›¸åŒã€‚å®é™…ä¸Šï¼Œå°±æ˜¯ â€œå¼€å¯ç»§æ‰¿â€.</p><p><strong>initial</strong><br>è®¾ç½®å±æ€§å€¼å’Œæµè§ˆå™¨é»˜è®¤æ ·å¼ç›¸åŒã€‚å¦‚æœæµè§ˆå™¨é»˜è®¤æ ·å¼ä¸­æœªè®¾ç½®ä¸”è¯¥å±æ€§æ˜¯è‡ªç„¶ç»§æ‰¿çš„ï¼Œé‚£ä¹ˆä¼šè®¾ç½®ä¸º inherit ã€‚</p><p><strong>revert (en-US)</strong><br>å°†åº”ç”¨äºé€‰å®šå…ƒç´ çš„å±æ€§å€¼é‡ç½®ä¸ºæµè§ˆå™¨çš„é»˜è®¤æ ·å¼ï¼Œè€Œä¸æ˜¯åº”ç”¨äºè¯¥å±æ€§çš„é»˜è®¤å€¼ã€‚åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæ­¤å€¼çš„ä½œç”¨ç±»ä¼¼äº unsetã€‚</p><p><strong>revert-layer (en-US)</strong><br>å°†åº”ç”¨äºé€‰å®šå…ƒç´ çš„å±æ€§å€¼é‡ç½®ä¸ºåœ¨ä¸Šä¸€ä¸ªå±‚å å±‚ä¸­å»ºç«‹çš„å€¼ã€‚</p><p><strong>unset</strong><br>å°†å±æ€§é‡ç½®ä¸ºè‡ªç„¶å€¼ï¼Œä¹Ÿå°±æ˜¯å¦‚æœå±æ€§æ˜¯è‡ªç„¶ç»§æ‰¿é‚£ä¹ˆå°±æ˜¯ inheritï¼Œå¦åˆ™å’Œ initial ä¸€æ ·</p><h1 id="ç†è§£å±‚å "><a href="#ç†è§£å±‚å " class="headerlink" title="ç†è§£å±‚å "></a>ç†è§£å±‚å </h1><p>æœ‰ä¸‰ä¸ªå› ç´ éœ€è¦è€ƒè™‘ï¼Œæ ¹æ®é‡è¦æ€§æ’åºå¦‚ä¸‹ï¼Œå‰é¢çš„æ›´é‡è¦ï¼š</p><ul><li>é‡è¦ç¨‹åº¦</li><li>ä¼˜å…ˆçº§</li><li>èµ„æºé¡ºåº</li></ul><p><strong>èµ„æºé¡ºåº</strong><br>æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†é¡ºåºå¯¹äºå±‚å çš„é‡è¦æ€§ã€‚å¦‚æœä½ æœ‰è¶…è¿‡ä¸€æ¡è§„åˆ™ï¼Œè€Œä¸”éƒ½æ˜¯ç›¸åŒçš„æƒé‡ï¼Œé‚£ä¹ˆæœ€åé¢çš„è§„åˆ™ä¼šåº”ç”¨ã€‚å¯ä»¥ç†è§£ä¸ºåé¢çš„è§„åˆ™è¦†ç›–å‰é¢çš„è§„åˆ™ï¼Œç›´åˆ°æœ€åä¸€ä¸ªå¼€å§‹è®¾ç½®æ ·å¼ã€‚</p><p><strong>ä¼˜å…ˆçº§</strong><br>åœ¨ä½ äº†è§£äº†é¡ºåºçš„é‡è¦æ€§åï¼Œä¼šå‘ç°åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œæœ‰äº›è§„åˆ™åœ¨æœ€åå‡ºç°ï¼Œä½†æ˜¯å´åº”ç”¨äº†å‰é¢çš„è§„åˆ™ã€‚è¿™æ˜¯å› ä¸ºå‰é¢çš„æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ â€” å®ƒèŒƒå›´æ›´å°ï¼Œå› æ­¤æµè§ˆå™¨å°±æŠŠå®ƒé€‰æ‹©ä¸ºå…ƒç´ çš„æ ·å¼ã€‚</p><ol><li>åƒä½ï¼š å¦‚æœå£°æ˜åœ¨ style çš„å±æ€§ï¼ˆå†…è”æ ·å¼ï¼‰åˆ™è¯¥ä½å¾—ä¸€åˆ†ã€‚è¿™æ ·çš„å£°æ˜æ²¡æœ‰é€‰æ‹©å™¨ï¼Œæ‰€ä»¥å®ƒå¾—åˆ†æ€»æ˜¯ 1000ã€‚</li><li>ç™¾ä½ï¼š é€‰æ‹©å™¨ä¸­åŒ…å« ID é€‰æ‹©å™¨åˆ™è¯¥ä½å¾—ä¸€åˆ†ã€‚</li><li>åä½ï¼š é€‰æ‹©å™¨ä¸­åŒ…å«ç±»é€‰æ‹©å™¨ã€å±æ€§é€‰æ‹©å™¨æˆ–è€…ä¼ªç±»åˆ™è¯¥ä½å¾—ä¸€åˆ†ã€‚</li><li>ä¸ªä½ï¼šé€‰æ‹©å™¨ä¸­åŒ…å«å…ƒç´ ã€ä¼ªå…ƒç´ é€‰æ‹©å™¨åˆ™è¯¥ä½å¾—ä¸€åˆ†ã€‚</li></ol><blockquote><p>å¤‡æ³¨ï¼š é€šç”¨é€‰æ‹©å™¨ (*)ï¼Œç»„åˆç¬¦ (+, &gt;, ~, â€˜ â€˜)ï¼Œå’Œå¦å®šä¼ªç±» (:not) ä¸ä¼šå½±å“ä¼˜å…ˆçº§ã€‚</p></blockquote><blockquote><p>è­¦å‘Šï¼š åœ¨è¿›è¡Œè®¡ç®—æ—¶ä¸å…è®¸è¿›è¡Œè¿›ä½ï¼Œä¾‹å¦‚ï¼Œ20 ä¸ªç±»é€‰æ‹©å™¨ä»…ä»…æ„å‘³ç€ 20 ä¸ªåä½ï¼Œè€Œä¸èƒ½è§†ä¸º ä¸¤ä¸ªç™¾ä½ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ— è®ºå¤šå°‘ä¸ªç±»é€‰æ‹©å™¨çš„æƒé‡å åŠ ï¼Œéƒ½ä¸ä¼šè¶…è¿‡ä¸€ä¸ª ID é€‰æ‹©å™¨ã€‚</p></blockquote><table><thead><tr><th>é€‰æ‹©å™¨</th><th>åƒä½</th><th>ç™¾ä½</th><th>åä½</th><th>ä¸ªä½</th><th>ä¼˜å…ˆçº§</th></tr></thead><tbody><tr><td>h1</td><td>0</td><td>0</td><td>0</td><td>1</td><td>0001</td></tr><tr><td>h1 + p::first-letter</td><td>0</td><td>0</td><td>0</td><td>3</td><td>0003</td></tr><tr><td>li &gt; a[href*=â€en-USâ€] &gt; .inline-warning</td><td>0</td><td>0</td><td>2</td><td>2</td><td>0022</td></tr><tr><td>#identifier</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0100</td></tr><tr><td>å†…è”æ ·å¼</td><td>1</td><td>0</td><td>0</td><td>0</td><td>1000</td></tr></tbody></table><h2 id="important"><a href="#important" class="headerlink" title="!important"></a>!important</h2><p>æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ CSS å¯ä»¥ç”¨æ¥è¦†ç›–æ‰€æœ‰ä¸Šé¢æ‰€æœ‰ä¼˜å…ˆçº§è®¡ç®—ï¼Œä¸è¿‡éœ€è¦å¾ˆå°å¿ƒçš„ä½¿ç”¨ â€” !importantã€‚ç”¨äºä¿®æ”¹ç‰¹å®šå±æ€§çš„å€¼ï¼Œ èƒ½å¤Ÿè¦†ç›–æ™®é€šè§„åˆ™çš„å±‚å ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
      <tag>css</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç›’å­å¯¹é½è§„èŒƒ</title>
    <link href="/2022/08/25/%E7%9B%92%E5%AD%90%E5%AF%B9%E9%BD%90%E8%A7%84%E8%8C%83/"/>
    <url>/2022/08/25/%E7%9B%92%E5%AD%90%E5%AF%B9%E9%BD%90%E8%A7%84%E8%8C%83/</url>
    
    <content type="html"><![CDATA[<h1 id="box-alignment-æ¨¡å—"><a href="#box-alignment-æ¨¡å—" class="headerlink" title="box alignment æ¨¡å—"></a>box alignment æ¨¡å—</h1><p>è®¸å¤šäººå¼€å§‹å…³æ³¨ flexbox çš„æœ€åˆåŸå› æ˜¯åœ¨ flex å®¹å™¨ä¸­èƒ½å¤Ÿå¾ˆå¥½çš„å¯¹é½å…¶ä¸­çš„å…ƒç´ ã€‚flexbox å¯ä»¥è®¾ç½®åœ¨å…¶äº¤å‰è½´ä»¥åŠä¸»è½´ä¸Šçš„å¯¹é½å±æ€§ã€‚</p><p>è¿™äº›å±æ€§æœ€å¼€å§‹å‡ºç°åœ¨ flexbox è§„èŒƒä¸­ï¼Œç°åœ¨å·²ç»æˆä¸º<a href="https://www.w3.org/TR/css-align-3/">Box Alignment è§„èŒƒ</a>çš„ä¸€éƒ¨åˆ†ã€‚è¿™ä¸ªè§„èŒƒè¯¦ç»†è¯´æ˜äº†åœ¨æ‰€æœ‰å¸ƒå±€ä¸­ï¼ˆä¸ä»…ä»…æ˜¯ flexboxï¼‰å¯¹é½å±æ€§æ˜¯å¦‚ä½•èµ·ä½œç”¨çš„ã€‚å¯¹é½å±æ€§ç”¨äºè®¾ç½®å…ƒç´ å¯¹é½æ–¹å¼å’Œæ²¿è½´çš„ç©ºé—´åˆ†é…ã€‚</p><p>ä¹‹æ‰€ä»¥åœ¨ flexbox è§„èŒƒå’Œ box alignment æ¨¡å—è§„èŒƒä¸­éƒ½æœ‰å¯¹å¯¹é½å±æ€§çš„è¯¦ç»†æè¿°ï¼Œæ˜¯ä¸ºäº†ç¡®ä¿ flexbox è§„èŒƒçš„å®Œæˆä¸ä¼šå— box alignment æ¨¡å—è§„èŒƒçš„å½±å“ï¼Œå› ä¸ºåè€…éœ€è¦è¯¦ç»†è¯´æ˜æ‰€æœ‰çš„å¸ƒå±€ç±»å‹ä¸­çš„å¯¹é½æ–¹æ³•ã€‚flexbox è§„èŒƒä¸­æœ‰ä¸€æ¡æ³¨é‡ŠæŒ‡å‡ºå°†æ¥ä¸€æ—¦ Box Alignment Level 3 å®Œæˆï¼Œå®ƒå°†ä¼šå–ä»£ flexbox è§„èŒƒä¸­çš„ç›¸å…³å®šä¹‰ï¼š</p><h2 id="gap-å±æ€§"><a href="#gap-å±æ€§" class="headerlink" title="gap å±æ€§"></a>gap å±æ€§</h2><p>å±æ€§<code>row-gap</code> å’Œ <code>column-gap</code>ï¼Œå…¶ç®€å†™ä¸º<code>gap</code>,è¿‘æœŸæ·»åŠ åˆ°äº†ç›’å­å¸ƒå±€è§„èŒƒä¸­ã€‚è¿™äº›å±æ€§ï¼ˆåç§°ä¸º<code>grid-row-gap</code>, <code>grid-column-gap</code> and <code>grid-gap</code>ï¼‰æœ€åˆå®šä¹‰åœ¨ CSS ç½‘æ ¼å¸ƒå±€ä¸­ã€‚ä½†æ˜¯ä»–ä»¬è¢«é‡å‘½åå¹¶ç§»å…¥ç›’å­å¸ƒå±€è§„èŒƒã€‚è¿™æ ·çš„è¯ï¼Œæ‰€æœ‰çš„å¸ƒå±€æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨è¿™äº›å±æ€§ã€‚</p><p>ä¸è¿‡åœ¨æµè§ˆå™¨å®ç° Flex çš„è¿™äº›å±æ€§ä¹‹å‰åªèƒ½é€šè¿‡<code>margin</code> æ¥æ§åˆ¶å…ƒç´ ä¹‹é—´çš„é—´éš™è·ç¦»ã€‚</p><h2 id="Write-Mode-å†™ä½œæ¨¡å¼"><a href="#Write-Mode-å†™ä½œæ¨¡å¼" class="headerlink" title="Write Mode å†™ä½œæ¨¡å¼"></a>Write Mode å†™ä½œæ¨¡å¼</h2><p>ä¹¦å†™æ¨¡å¼è§„èŒƒå®šä¹‰äº†ä»¥ä¸‹<code>writing-mode</code>å±æ€§å€¼ï¼Œè¿™äº›å€¼ç”¨äºæ›´æ”¹å—åœ¨é¡µé¢ä¸Šçš„å¸ƒå±€æ–¹å‘ï¼Œä»¥åŒ¹é…åœ¨ç‰¹å®šä¹¦å†™æ¨¡å¼ä¸‹æ ¼å¼åŒ–å†…å®¹æ—¶å—çš„å¸ƒå±€æ–¹å‘ã€‚</p><ul><li>horizontal-tb</li><li>vertical-rl</li><li>vertical-lr</li><li>sideways-rl</li><li>sideways-lr</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">writing-mode</span>: vertical-lr;<br>&#125;<br>    <br></code></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>One<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Two<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Three<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="Flexbox-å’Œå¸ƒå±€æ–¹å¼"><a href="#Flexbox-å’Œå¸ƒå±€æ–¹å¼" class="headerlink" title="Flexbox å’Œå¸ƒå±€æ–¹å¼"></a>Flexbox å’Œå¸ƒå±€æ–¹å¼</h2><p>flexä¼šåˆ›å»ºBFC</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><br><span class="hljs-selector-class">.box</span>&gt;* &#123;<br>    <span class="hljs-attribute">float</span>: left;<br>&#125;<br><br><span class="hljs-selector-class">.box</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>&#125;<br>    <br></code></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>One<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Two<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Three<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <br></code></pre></td></tr></table></figure><h2 id="Flexbox-å’Œç½‘æ ¼å¸ƒå±€"><a href="#Flexbox-å’Œç½‘æ ¼å¸ƒå±€" class="headerlink" title="Flexbox å’Œç½‘æ ¼å¸ƒå±€"></a>Flexbox å’Œç½‘æ ¼å¸ƒå±€</h2><p>CSS Grid Layoutå’Œ Flexbox é€šå¸¸ä»¥ç›¸åŒçš„æ–¹å¼è¦†ç›–å…¶ä»–æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯èƒ½å¸Œæœ›ä½¿ç”¨ flexbox ä½œä¸ºç½‘æ ¼å¸ƒå±€çš„åå¤‡ï¼Œå› ä¸ºåœ¨æ—§æµè§ˆå™¨ä¸­å¯¹ flexbox æœ‰æ›´å¥½çš„æ”¯æŒã€‚</p><p>è¿™ç§æ–¹æ³•æ•ˆæœå¾ˆå¥½ã€‚å¦‚æœå¼¹æ€§é¡¹ç›®æˆä¸ºç½‘æ ¼é¡¹ç›®ï¼Œåˆ™flexå¯èƒ½å·²åˆ†é…ç»™å­å…ƒç´ çš„å±æ€§å°†è¢«å¿½ç•¥ã€‚</p><p>åœ¨ Grid Layout ä¸­ï¼Œæ‚¨å¯¹å®¹å™¨è¿›è¡Œå¤§éƒ¨åˆ†å°ºå¯¸è§„èŒƒï¼Œè®¾ç½®è½¨é“ï¼Œç„¶åå°†é¡¹ç›®æ”¾å…¥å…¶ä¸­ã€‚åœ¨ flexbox ä¸­ï¼Œå½“æ‚¨åˆ›å»ºä¸€ä¸ª flex å®¹å™¨å¹¶åœ¨è¯¥çº§åˆ«è®¾ç½®æ–¹å‘æ—¶ï¼Œå¯¹é¡¹ç›®å¤§å°çš„ä»»ä½•æ§åˆ¶éƒ½éœ€è¦åœ¨é¡¹ç›®æœ¬èº«ä¸Šè¿›è¡Œã€‚</p><h2 id="Flexbox-å’Œæ˜¾ç¤ºï¼šå†…å®¹"><a href="#Flexbox-å’Œæ˜¾ç¤ºï¼šå†…å®¹" class="headerlink" title="Flexbox å’Œæ˜¾ç¤ºï¼šå†…å®¹"></a>Flexbox å’Œæ˜¾ç¤ºï¼šå†…å®¹</h2><p>è¯¥å±æ€§çš„contentså€¼displayæ˜¯è§„èŒƒä¸­æè¿°çš„æ–°å€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><blockquote><p>â€œå…ƒç´ æœ¬èº«ä¸ä¼šç”Ÿæˆä»»ä½•æ¡†ï¼Œä½†å®ƒçš„å­å…ƒç´ å’Œä¼ªå…ƒç´ ä»ç„¶ç…§å¸¸ç”Ÿæˆæ¡†ã€‚å‡ºäºæ¡†ç”Ÿæˆå’Œå¸ƒå±€çš„ç›®çš„ï¼Œå¿…é¡»å°†å…ƒç´ è§†ä¸ºå·²è¢«æ–‡æ¡£æ ‘ä¸­çš„å­å…ƒç´ å’Œä¼ªå…ƒç´ æ›¿æ¢ã€‚â€</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box</span> &#123;<br>    <span class="hljs-attribute">display</span>: flex;<br>&#125;<br><br><span class="hljs-selector-class">.nested</span> &#123;<br>    <span class="hljs-attribute">background-color</span>: orange;<br>    <span class="hljs-attribute">display</span>: contents;<br>&#125;<br>    <br></code></pre></td></tr></table></figure><h2 id="CSSå±æ€§"><a href="#CSSå±æ€§" class="headerlink" title="CSSå±æ€§"></a>CSSå±æ€§</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs text">flex<br>flex-basis<br>flex-direction<br>flex-flow<br>flex-grow<br>flex-shrink<br>flex-wrap<br>order<br><br>align-content<br>align-items<br>align-self<br>justify-content<br>place-content<br>row-gap è¡Œé—´éš™<br>column-gap åˆ—é—´éš™<br>gap è¡Œå’Œåˆ—é—´éš™ï¼Œè¯¥å±æ€§æ˜¯row-gapå’Œcolumn-gapçš„ç®€å†™<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
      <tag>css</tag>
      
      <tag>gap</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>flexå¸ƒå±€</title>
    <link href="/2022/08/24/flex%E5%B8%83%E5%B1%80/"/>
    <url>/2022/08/24/flex%E5%B8%83%E5%B1%80/</url>
    
    <content type="html"><![CDATA[<h1 id="Flexible-Box-æ¨¡å‹"><a href="#Flexible-Box-æ¨¡å‹" class="headerlink" title="Flexible Box æ¨¡å‹"></a>Flexible Box æ¨¡å‹</h1><p>æ˜¯ä¸€ç§ä¸€ç»´çš„å¸ƒå±€æ¨¡å‹ã€‚å®ƒç»™ flexbox çš„å­å…ƒç´ ä¹‹é—´æä¾›äº†å¼ºå¤§çš„ç©ºé—´åˆ†å¸ƒå’Œå¯¹é½èƒ½åŠ›</p><h1 id="ä¸¤æ ¹è½´çº¿"><a href="#ä¸¤æ ¹è½´çº¿" class="headerlink" title="ä¸¤æ ¹è½´çº¿"></a>ä¸¤æ ¹è½´çº¿</h1><p>å½“ä½¿ç”¨ flex å¸ƒå±€æ—¶ï¼Œé¦–å…ˆæƒ³åˆ°çš„æ˜¯ä¸¤æ ¹è½´çº¿ â€” ä¸»è½´å’Œäº¤å‰è½´ã€‚ä¸»è½´ç”± <code>flex-direction</code> å®šä¹‰ï¼Œå¦ä¸€æ ¹è½´å‚ç›´äºå®ƒã€‚</p><h2 id="ä¸»è½´"><a href="#ä¸»è½´" class="headerlink" title="ä¸»è½´"></a>ä¸»è½´</h2><p>ä¸»è½´ç”± <code>flex-direction</code> å®šä¹‰ï¼Œå¯ä»¥å– 4 ä¸ªå€¼ï¼š</p><ul><li>row</li><li>row-reverse</li><li>column</li><li>column-reverse</li></ul><p>å¦‚æœä½ é€‰æ‹©äº† row æˆ–è€… row-reverseï¼Œä½ çš„ä¸»è½´å°†æ²¿ç€ inline æ–¹å‘å»¶ä¼¸ã€‚</p><p><img src="/img/css/flex01.png"></p><p>é€‰æ‹© <code>column</code> æˆ–è€… <code>column-reverse</code> æ—¶ï¼Œä½ çš„ä¸»è½´ä¼šæ²¿ç€ä¸Šä¸‹æ–¹å‘å»¶ä¼¸ â€” ä¹Ÿå°±æ˜¯ block æ’åˆ—çš„æ–¹å‘ã€‚</p><p><img src="/img/css/flex02.png"></p><h2 id="äº¤å‰è½´"><a href="#äº¤å‰è½´" class="headerlink" title="äº¤å‰è½´"></a>äº¤å‰è½´</h2><p>äº¤å‰è½´å‚ç›´äºä¸»è½´ï¼Œæ‰€ä»¥å¦‚æœä½ çš„<code>flex-direction</code> (ä¸»è½´) è®¾æˆäº† <code>row</code> æˆ–è€… <code>row-reverse</code> çš„è¯ï¼Œäº¤å‰è½´çš„æ–¹å‘å°±æ˜¯æ²¿ç€åˆ—å‘ä¸‹çš„ã€‚</p><p><img src="/img/css/flex03.png"></p><p>å¦‚æœä¸»è½´æ–¹å‘è®¾æˆäº† <code>column</code> æˆ–è€… <code>column-reverse</code>ï¼Œäº¤å‰è½´å°±æ˜¯æ°´å¹³æ–¹å‘ã€‚</p><p><img src="/img/css/flex04.png"></p><h1 id="Flex-å®¹å™¨"><a href="#Flex-å®¹å™¨" class="headerlink" title="Flex å®¹å™¨"></a>Flex å®¹å™¨</h1><p>æ–‡æ¡£ä¸­é‡‡ç”¨äº† flexbox çš„åŒºåŸŸå°±å«åš flex å®¹å™¨ã€‚ä¸ºäº†åˆ›å»º <code>flex</code> å®¹å™¨ï¼Œæˆ‘ä»¬æŠŠä¸€ä¸ªå®¹å™¨çš„ <code>display</code> å±æ€§å€¼æ”¹ä¸º <code>flex</code> æˆ–è€… <code>inline-flex</code></p><p>å®Œæˆè¿™ä¸€æ­¥ä¹‹åï¼Œå®¹å™¨ä¸­çš„ç›´ç³»å­å…ƒç´ å°±ä¼šå˜ä¸º <strong>flex å…ƒç´ </strong>ã€‚æ‰€æœ‰ CSS å±æ€§éƒ½ä¼šæœ‰ä¸€ä¸ªåˆå§‹å€¼ï¼Œæ‰€ä»¥ flex å®¹å™¨ä¸­çš„æ‰€æœ‰ flex å…ƒç´ éƒ½ä¼šæœ‰ä¸‹åˆ—è¡Œä¸ºï¼š</p><ul><li>å…ƒç´ æ’åˆ—ä¸ºä¸€è¡Œ (flex-direction å±æ€§çš„åˆå§‹å€¼æ˜¯ row)ã€‚</li><li>å…ƒç´ ä»ä¸»è½´çš„èµ·å§‹çº¿å¼€å§‹ã€‚</li><li>å…ƒç´ ä¸ä¼šåœ¨ä¸»ç»´åº¦æ–¹å‘æ‹‰ä¼¸ï¼Œä½†æ˜¯å¯ä»¥ç¼©å°ã€‚</li><li>å…ƒç´ è¢«æ‹‰ä¼¸æ¥å¡«å……äº¤å‰è½´å¤§å°ã€‚</li><li>flex-basis å±æ€§ä¸º autoã€‚</li><li>flex-wrap å±æ€§ä¸º nowrapã€‚</li></ul><p>è¿™ä¼šè®©ä½ çš„å…ƒç´ å‘ˆçº¿å½¢æ’åˆ—ï¼Œå¹¶ä¸”æŠŠè‡ªå·±çš„å¤§å°ä½œä¸ºä¸»è½´ä¸Šçš„å¤§å°ã€‚å¦‚æœæœ‰å¤ªå¤šå…ƒç´ è¶…å‡ºå®¹å™¨ï¼Œå®ƒä»¬ä¼šæº¢å‡ºè€Œ<strong>ä¸ä¼šæ¢è¡Œ</strong>ã€‚å¦‚æœä¸€äº›å…ƒç´ æ¯”å…¶ä»–å…ƒç´ é«˜ï¼Œé‚£ä¹ˆå…ƒç´ ä¼šæ²¿äº¤å‰è½´è¢«æ‹‰ä¼¸æ¥å¡«æ»¡å®ƒçš„å¤§å°ã€‚</p><h1 id="æ›´æ”¹-flex-æ–¹å‘-flex-direction"><a href="#æ›´æ”¹-flex-æ–¹å‘-flex-direction" class="headerlink" title="æ›´æ”¹ flex æ–¹å‘ flex-direction"></a>æ›´æ”¹ flex æ–¹å‘ flex-direction</h1><p>æŠŠ flex å®¹å™¨çš„å±æ€§ flex-direction æ”¹ä¸º column ï¼Œä¸»è½´å’Œäº¤å‰è½´äº¤æ¢ï¼Œå…ƒç´ æ²¿ç€åˆ—çš„æ–¹å‘æ’åˆ—æ˜¾ç¤ºã€‚</p><h1 id="ç”¨-flex-wrap-å®ç°å¤šè¡Œ-Flex-å®¹å™¨"><a href="#ç”¨-flex-wrap-å®ç°å¤šè¡Œ-Flex-å®¹å™¨" class="headerlink" title="ç”¨ flex-wrap å®ç°å¤šè¡Œ Flex å®¹å™¨"></a>ç”¨ flex-wrap å®ç°å¤šè¡Œ Flex å®¹å™¨</h1><p>è™½ç„¶flexboxæ˜¯ä¸€ç»´æ¨¡å‹ï¼Œä½†å¯ä»¥ä½¿æˆ‘ä»¬çš„flexé¡¹ç›®åº”ç”¨åˆ°å¤šè¡Œä¸­ã€‚åœ¨è¿™æ ·åšçš„æ—¶å€™ï¼Œæ‚¨åº”è¯¥æŠŠæ¯ä¸€è¡Œçœ‹ä½œä¸€ä¸ªæ–°çš„flexå®¹å™¨ã€‚<strong>ä»»ä½•ç©ºé—´åˆ†å¸ƒéƒ½å°†åœ¨è¯¥è¡Œä¸Šå‘ç”Ÿ</strong>ï¼Œè€Œä¸å½±å“è¯¥ç©ºé—´åˆ†å¸ƒçš„å…¶ä»–è¡Œã€‚</p><h1 id="ç®€å†™å±æ€§-flex-flow"><a href="#ç®€å†™å±æ€§-flex-flow" class="headerlink" title="ç®€å†™å±æ€§ flex-flow"></a>ç®€å†™å±æ€§ flex-flow</h1><p>ä½ å¯ä»¥å°†ä¸¤ä¸ªå±æ€§ flex-direction å’Œ flex-wrap ç»„åˆä¸ºç®€å†™å±æ€§ flex-flowã€‚ç¬¬ä¸€ä¸ªæŒ‡å®šçš„å€¼ä¸º flex-direction ï¼Œç¬¬äºŒä¸ªæŒ‡å®šçš„å€¼ä¸º flex-wrap.</p><h1 id="flex-å…ƒç´ ä¸Šçš„å±æ€§"><a href="#flex-å…ƒç´ ä¸Šçš„å±æ€§" class="headerlink" title="flex å…ƒç´ ä¸Šçš„å±æ€§"></a>flex å…ƒç´ ä¸Šçš„å±æ€§</h1><p>ä¸ºäº†æ›´å¥½åœ°æ§åˆ¶ flex å…ƒç´ ï¼Œæœ‰ä¸‰ä¸ªå±æ€§å¯ä»¥ä½œç”¨äºå®ƒä»¬ï¼š</p><ul><li>flex-grow</li><li>flex-shrink</li><li>flex-basis</li></ul><p>åœ¨è€ƒè™‘è¿™å‡ ä¸ªå±æ€§çš„ä½œç”¨ä¹‹å‰ï¼Œéœ€è¦å…ˆäº†è§£ä¸€ä¸‹ <strong>å¯ç”¨ç©ºé—´ available space</strong> è¿™ä¸ªæ¦‚å¿µã€‚è¿™å‡ ä¸ª flex å±æ€§çš„ä½œç”¨å…¶å®å°±æ˜¯æ”¹å˜äº† flex å®¹å™¨ä¸­çš„å¯ç”¨ç©ºé—´çš„è¡Œä¸ºã€‚åŒæ—¶ï¼Œå¯ç”¨ç©ºé—´å¯¹äº flex å…ƒç´ çš„å¯¹é½è¡Œä¸ºä¹Ÿæ˜¯å¾ˆé‡è¦çš„ã€‚</p><p>å‡è®¾åœ¨ 1 ä¸ª 500px çš„å®¹å™¨ä¸­ï¼Œæˆ‘ä»¬æœ‰ 3 ä¸ª 100px å®½çš„å…ƒç´ ï¼Œé‚£ä¹ˆè¿™ 3 ä¸ªå…ƒç´ éœ€è¦å  300px çš„å®½ï¼Œå‰©ä¸‹ 200px çš„å¯ç”¨ç©ºé—´ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œflexbox çš„è¡Œä¸ºä¼šæŠŠè¿™ 200px çš„ç©ºé—´ç•™åœ¨æœ€åä¸€ä¸ªå…ƒç´ çš„åé¢ã€‚</p><p><img src="/img/css/flex05.png"></p><h2 id="Flex-å…ƒç´ å±æ€§ï¼šflex-basis"><a href="#Flex-å…ƒç´ å±æ€§ï¼šflex-basis" class="headerlink" title="Flex å…ƒç´ å±æ€§ï¼šflex-basis"></a>Flex å…ƒç´ å±æ€§ï¼šflex-basis</h2><p><strong>flex-basis å®šä¹‰äº†è¯¥å…ƒç´ çš„ç©ºé—´å¤§å°</strong>ï¼ˆthe size of that item in terms of the spaceï¼‰ï¼Œflex å®¹å™¨é‡Œé™¤äº†å…ƒç´ æ‰€å çš„ç©ºé—´ä»¥å¤–çš„å¯Œä½™ç©ºé—´å°±æ˜¯å¯ç”¨ç©ºé—´ available spaceã€‚ è¯¥å±æ€§çš„é»˜è®¤å€¼æ˜¯ <code>auto</code> ã€‚æ­¤æ—¶ï¼Œæµè§ˆå™¨ä¼šæ£€æµ‹è¿™ä¸ªå…ƒç´ æ˜¯å¦å…·æœ‰ç¡®å®šçš„å°ºå¯¸ã€‚ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ‰€æœ‰å…ƒç´ éƒ½è®¾å®šäº†å®½åº¦ï¼ˆwidthï¼‰ä¸º 100pxï¼Œæ‰€ä»¥ flex-basis çš„å€¼ä¸º 100pxã€‚</p><p>å¦‚æœæ²¡æœ‰ç»™å…ƒç´ è®¾å®šå°ºå¯¸ï¼Œ<code>flex-basis</code> çš„å€¼é‡‡ç”¨å…ƒç´ å†…å®¹çš„å°ºå¯¸ã€‚è¿™å°±è§£é‡Šäº†ï¼šæˆ‘ä»¬ç»™åªè¦ç»™ <code>Flex</code> å…ƒç´ çš„çˆ¶å…ƒç´ å£°æ˜ <code>display: flex</code> ï¼Œæ‰€æœ‰å­å…ƒç´ å°±ä¼šæ’æˆä¸€è¡Œï¼Œä¸”è‡ªåŠ¨åˆ†é…å°å¤§ä»¥å……åˆ†å±•ç¤ºå…ƒç´ çš„å†…å®¹ã€‚</p><h2 id="Flex-å…ƒç´ å±æ€§ï¼šflex-grow"><a href="#Flex-å…ƒç´ å±æ€§ï¼šflex-grow" class="headerlink" title="Flex å…ƒç´ å±æ€§ï¼šflex-grow"></a>Flex å…ƒç´ å±æ€§ï¼šflex-grow</h2><p>flex-grow è‹¥è¢«èµ‹å€¼ä¸ºä¸€ä¸ªæ­£æ•´æ•°ï¼Œ flex å…ƒç´ ä¼šä»¥ flex-basis ä¸ºåŸºç¡€ï¼Œæ²¿ä¸»è½´æ–¹å‘å¢é•¿å°ºå¯¸ã€‚<br>è¿™ä¼šä½¿è¯¥å…ƒç´ å»¶å±•ï¼Œ<strong>å¹¶å æ®æ­¤æ–¹å‘è½´ä¸Šçš„å¯ç”¨ç©ºé—´ï¼ˆavailable spaceï¼‰</strong>ã€‚å¦‚æœæœ‰å…¶ä»–å…ƒç´ ä¹Ÿè¢«å…è®¸å»¶å±•ï¼Œé‚£ä¹ˆä»–ä»¬ä¼šå„è‡ªå æ®å¯ç”¨ç©ºé—´çš„ä¸€éƒ¨åˆ†ã€‚</p><p>å¦‚æœæˆ‘ä»¬ç»™ä¸Šä¾‹ä¸­çš„æ‰€æœ‰å…ƒç´ è®¾å®š <code>flex-grow</code> å€¼ä¸º 1ï¼Œå®¹å™¨ä¸­çš„å¯ç”¨ç©ºé—´ä¼šè¢«è¿™äº›å…ƒç´ <strong>å¹³åˆ†</strong>ã€‚å®ƒä»¬ä¼šå»¶å±•ä»¥å¡«æ»¡å®¹å™¨ä¸»è½´æ–¹å‘ä¸Šçš„ç©ºé—´ã€‚</p><p>flex-grow å±æ€§å¯ä»¥æŒ‰æ¯”ä¾‹åˆ†é…ç©ºé—´ã€‚å¦‚æœç¬¬ä¸€ä¸ªå…ƒç´  flex-grow å€¼ä¸º 2ï¼Œå…¶ä»–å…ƒç´ å€¼ä¸º 1ï¼Œåˆ™ç¬¬ä¸€ä¸ªå…ƒç´ å°†å æœ‰ 2/4ï¼ˆä¸Šä¾‹ä¸­ï¼Œå³ä¸º 200px ä¸­çš„ 100pxï¼‰, å¦å¤–ä¸¤ä¸ªå…ƒç´ å„å æœ‰ 1/4ï¼ˆå„ 50pxï¼‰ã€‚</p><h2 id="Flex-å…ƒç´ å±æ€§ï¼š-flex-shrink"><a href="#Flex-å…ƒç´ å±æ€§ï¼š-flex-shrink" class="headerlink" title="Flex å…ƒç´ å±æ€§ï¼š flex-shrink"></a>Flex å…ƒç´ å±æ€§ï¼š flex-shrink</h2><p>flex-growå±æ€§æ˜¯å¤„ç† flex å…ƒç´ åœ¨ä¸»è½´ä¸Šå¢åŠ ç©ºé—´çš„é—®é¢˜ï¼Œç›¸åflex-shrinkå±æ€§æ˜¯å¤„ç† flex å…ƒç´ æ”¶ç¼©çš„é—®é¢˜ã€‚</p><h2 id="Flex-å±æ€§çš„ç®€å†™"><a href="#Flex-å±æ€§çš„ç®€å†™" class="headerlink" title="Flex å±æ€§çš„ç®€å†™"></a>Flex å±æ€§çš„ç®€å†™</h2><p>ä½ å¯èƒ½å¾ˆå°‘çœ‹åˆ° <code>flex-grow</code>ï¼Œ<code>flex-shrink</code>ï¼Œå’Œ <code>flex-basis</code> å±æ€§å•ç‹¬ä½¿ç”¨ï¼Œè€Œæ˜¯æ··åˆç€å†™åœ¨ <code>flex</code> ç®€å†™å½¢å¼ä¸­ã€‚ Flex ç®€å†™å½¢å¼å…è®¸ä½ æŠŠä¸‰ä¸ªæ•°å€¼æŒ‰è¿™ä¸ªé¡ºåºä¹¦å†™ â€” <code>flex-growï¼Œflex-shrinkï¼Œflex-basis</code>ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box</span> &#123;<br>     <span class="hljs-attribute">display</span>: flex;<br>   &#125;<br><br>   <span class="hljs-selector-class">.one</span> &#123;<br>     <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span> <span class="hljs-number">1</span> auto;<br>   &#125;<br><br>   <span class="hljs-selector-class">.two</span> &#123;<br>     <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span> <span class="hljs-number">1</span> auto;<br>   &#125;<br><br>   <span class="hljs-selector-class">.three</span> &#123;<br>     <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span> <span class="hljs-number">1</span> auto;<br>   &#125;<br>  <br></code></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;one&quot;</span>&gt;</span>One<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;two&quot;</span>&gt;</span>Two<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;three&quot;</span>&gt;</span>Three<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å¤§å¤šæ•°æƒ…å†µä¸‹å¯ä»¥ç”¨é¢„å®šä¹‰çš„ç®€å†™å½¢å¼ã€‚åœ¨è¿™ä¸ªæ•™ç¨‹ä¸­ä½ å¯èƒ½ç»å¸¸ä¼šçœ‹åˆ°è¿™ç§å†™æ³•ï¼Œè®¸å¤šæƒ…å†µä¸‹ä½ éƒ½å¯ä»¥è¿™ä¹ˆä½¿ç”¨ã€‚ä¸‹é¢æ˜¯å‡ ç§é¢„å®šä¹‰çš„å€¼ï¼š</p><ul><li>flex: initial</li><li>flex: auto</li><li>flex: none</li><li>flex: <positive-number></li></ul><p><code>flex: initial</code> æ˜¯æŠŠ flex å…ƒç´ é‡ç½®ä¸º Flexbox çš„åˆå§‹å€¼ï¼Œå®ƒç›¸å½“äº flex: 0 1 autoã€‚åœ¨è¿™é‡Œ flex-grow çš„å€¼ä¸º 0ï¼Œæ‰€ä»¥ flex å…ƒç´ ä¸ä¼šè¶…è¿‡å®ƒä»¬ flex-basis çš„å°ºå¯¸ã€‚flex-shrink çš„å€¼ä¸º 1, æ‰€ä»¥å¯ä»¥ç¼©å° flex å…ƒç´ æ¥é˜²æ­¢å®ƒä»¬æº¢å‡ºã€‚ flex-basis çš„å€¼ä¸º auto. Flex å…ƒç´ å°ºå¯¸å¯ä»¥æ˜¯åœ¨ä¸»ç»´åº¦ä¸Šè®¾ç½®çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯æ ¹æ®å†…å®¹è‡ªåŠ¨å¾—åˆ°çš„ã€‚</p><p><code>flex: auto</code> ç­‰åŒäº flex: 1 1 autoï¼›å’Œä¸Šé¢çš„ flex:initial åŸºæœ¬ç›¸åŒï¼Œä½†æ˜¯è¿™ç§æƒ…å†µä¸‹ï¼Œflex å…ƒç´ åœ¨éœ€è¦çš„æ—¶å€™æ—¢å¯ä»¥æ‹‰ä¼¸ä¹Ÿå¯ä»¥æ”¶ç¼©ã€‚</p><p><code>flex: none</code> å¯ä»¥æŠŠ flex å…ƒç´ è®¾ç½®ä¸ºä¸å¯ä¼¸ç¼©ã€‚å®ƒå’Œè®¾ç½®ä¸º flex: 0 0 auto æ˜¯ä¸€æ ·çš„ã€‚å…ƒç´ æ—¢ä¸èƒ½æ‹‰ä¼¸æˆ–è€…æ”¶ç¼©ï¼Œä½†æ˜¯å…ƒç´ ä¼šæŒ‰å…·æœ‰ flex-basis: auto å±æ€§çš„ flexbox è¿›è¡Œå¸ƒå±€ã€‚</p><p><code>flex: &lt;positive-number&gt;</code> ä½ åœ¨æ•™ç¨‹ä¸­å¸¸çœ‹åˆ°çš„ flex: 1 æˆ–è€… flex: 2 ç­‰ç­‰ã€‚å®ƒç›¸å½“äºflex: 1 1 0ã€‚å…ƒç´ å¯ä»¥åœ¨flex-basisä¸º 0 çš„åŸºç¡€ä¸Šä¼¸ç¼©ã€‚</p><h1 id="å…ƒç´ é—´çš„å¯¹é½å’Œç©ºé—´åˆ†é…"><a href="#å…ƒç´ é—´çš„å¯¹é½å’Œç©ºé—´åˆ†é…" class="headerlink" title="å…ƒç´ é—´çš„å¯¹é½å’Œç©ºé—´åˆ†é…"></a>å…ƒç´ é—´çš„å¯¹é½å’Œç©ºé—´åˆ†é…</h1><h2 id="align-items"><a href="#align-items" class="headerlink" title="align-items"></a>align-items</h2><p><code>Flexbox</code> çš„ä¸€ä¸ªå…³é”®ç‰¹æ€§æ˜¯èƒ½å¤Ÿè®¾ç½® flex å…ƒç´ æ²¿ä¸»è½´æ–¹å‘å’Œäº¤å‰è½´æ–¹å‘çš„å¯¹é½æ–¹å¼ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„ç©ºé—´åˆ†é…ã€‚<br><code>align-items align-items</code> å±æ€§å¯ä»¥ä½¿å…ƒç´ åœ¨äº¤å‰è½´æ–¹å‘å¯¹é½ã€‚</p><p><code>è¿™ä¸ªå±æ€§çš„åˆå§‹å€¼ä¸ºstretch</code>ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆ <code>flex</code> å…ƒç´ ä¼šé»˜è®¤è¢«æ‹‰ä¼¸åˆ°æœ€é«˜å…ƒç´ çš„é«˜åº¦ã€‚å®é™…ä¸Šï¼Œå®ƒä»¬è¢«æ‹‰ä¼¸æ¥å¡«æ»¡ flex å®¹å™¨ â€”â€” <strong>æœ€é«˜çš„å…ƒç´ å®šä¹‰äº†å®¹å™¨çš„é«˜åº¦</strong>ã€‚</p><h2 id="justify-content"><a href="#justify-content" class="headerlink" title="justify-content"></a>justify-content</h2><p><code>justify-content</code>å±æ€§ç”¨æ¥ä½¿å…ƒç´ åœ¨ä¸»è½´æ–¹å‘ä¸Šå¯¹é½ï¼Œä¸»è½´æ–¹å‘æ˜¯é€šè¿‡ flex-direction è®¾ç½®çš„æ–¹å‘ã€‚åˆå§‹å€¼æ˜¯flex-startï¼Œå…ƒç´ ä»å®¹å™¨çš„èµ·å§‹çº¿æ’åˆ—ã€‚ä½†æ˜¯ä½ ä¹Ÿå¯ä»¥æŠŠå€¼è®¾ç½®ä¸ºflex-endï¼Œä»ç»ˆæ­¢çº¿å¼€å§‹æ’åˆ—ï¼Œæˆ–è€…centerï¼Œåœ¨ä¸­é—´æ’åˆ—ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
      <tag>flex</tag>
      
      <tag>css</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>JSæœ‰ç”¨çš„ä»£ç ç‰‡æ®µ</title>
    <link href="/2022/08/24/JS%E6%9C%89%E7%94%A8%E7%9A%84%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/"/>
    <url>/2022/08/24/JS%E6%9C%89%E7%94%A8%E7%9A%84%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/</url>
    
    <content type="html"><![CDATA[<h2 id="æ£€æŸ¥æµè§ˆå™¨"><a href="#æ£€æŸ¥æµè§ˆå™¨" class="headerlink" title="æ£€æŸ¥æµè§ˆå™¨"></a>æ£€æŸ¥æµè§ˆå™¨</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">isBrowser</span> = (<span class="hljs-params"></span>) =&gt; ![<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span>, <span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">document</span>].<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;undefined&#x27;</span>);<br><span class="hljs-title function_">isBrowser</span>() <span class="hljs-comment">// true   if on isBrowser</span><br><span class="hljs-title function_">isBrowser</span>() <span class="hljs-comment">// false  if we are on node js or any other environment</span><br></code></pre></td></tr></table></figure><h2 id="æ£€æŸ¥æ˜¯å¦ä¸ºæ•°å­—"><a href="#æ£€æŸ¥æ˜¯å¦ä¸ºæ•°å­—" class="headerlink" title="æ£€æŸ¥æ˜¯å¦ä¸ºæ•°å­—"></a>æ£€æŸ¥æ˜¯å¦ä¸ºæ•°å­—</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isNumeric</span>(<span class="hljs-params">num</span>) &#123; <br>  <span class="hljs-keyword">return</span> !<span class="hljs-built_in">isNaN</span>(<span class="hljs-built_in">parseFloat</span>(num)) &amp;&amp; <span class="hljs-built_in">isFinite</span>(num); <br>&#125;<br><span class="hljs-title function_">isNumeric</span>(<span class="hljs-number">324</span>) <span class="hljs-comment">//true </span><br><span class="hljs-title function_">isNumeric</span>(<span class="hljs-string">&quot;Code&quot;</span>) <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure><h2 id="æ£€æŸ¥æ˜¯å¦ä¸ºå­—ç¬¦ä¸²"><a href="#æ£€æŸ¥æ˜¯å¦ä¸ºå­—ç¬¦ä¸²" class="headerlink" title="æ£€æŸ¥æ˜¯å¦ä¸ºå­—ç¬¦ä¸²"></a>æ£€æŸ¥æ˜¯å¦ä¸ºå­—ç¬¦ä¸²</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">isString</span> = val =&gt; <span class="hljs-keyword">typeof</span> val === <span class="hljs-string">&#x27;string&#x27;</span>;<br><span class="hljs-title function_">isString</span>(<span class="hljs-string">&#x27;hello world&#x27;</span>); <span class="hljs-comment">// true</span><br><span class="hljs-title function_">isString</span>(<span class="hljs-string">&#x27;1234&#x27;</span>); <span class="hljs-comment">// true</span><br><span class="hljs-title function_">isString</span>(<span class="hljs-number">345</span>); <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure><h2 id="æœ€å¤§æ•°"><a href="#æœ€å¤§æ•°" class="headerlink" title="æœ€å¤§æ•°"></a>æœ€å¤§æ•°</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">maxN</span> = (<span class="hljs-params">arr, n = <span class="hljs-number">1</span></span>) =&gt; [...arr].<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> b - a).<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, n);<br><span class="hljs-title function_">maxN</span>([<span class="hljs-number">3</span>,<span class="hljs-number">8</span>,<span class="hljs-number">7</span>]) <span class="hljs-comment">// 8 </span><br><span class="hljs-title function_">maxN</span>([<span class="hljs-number">1</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">23</span>]) <span class="hljs-comment">// 23</span><br></code></pre></td></tr></table></figure><h2 id="ä»åˆ—è¡¨ä¸­éšæœº"><a href="#ä»åˆ—è¡¨ä¸­éšæœº" class="headerlink" title="ä»åˆ—è¡¨ä¸­éšæœº"></a>ä»åˆ—è¡¨ä¸­éšæœº</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">random</span> = arr =&gt; arr[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * arr.<span class="hljs-property">length</span>)];<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">random</span>([<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>])) <span class="hljs-comment">// 6 </span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">random</span>([<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-number">0</span>,<span class="hljs-number">6</span>])) <span class="hljs-comment">// 1</span><br></code></pre></td></tr></table></figure><h2 id="èŒƒå›´ç”Ÿæˆå™¨ä¸­çš„æ•´æ•°æ•°ç»„"><a href="#èŒƒå›´ç”Ÿæˆå™¨ä¸­çš„æ•´æ•°æ•°ç»„" class="headerlink" title="èŒƒå›´ç”Ÿæˆå™¨ä¸­çš„æ•´æ•°æ•°ç»„"></a>èŒƒå›´ç”Ÿæˆå™¨ä¸­çš„æ•´æ•°æ•°ç»„</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">randomIntArrayInRange</span> = (<span class="hljs-params">min, max, n = <span class="hljs-number">1</span></span>) =&gt; <br>  <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(&#123; <span class="hljs-attr">length</span>: n &#125;, <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * (max - min + <span class="hljs-number">1</span>)) + min);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">randomIntArrayInRange</span>(<span class="hljs-number">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">5</span>)); <span class="hljs-comment">// [ 14, 11, 15, 10, 13 ]</span><br></code></pre></td></tr></table></figure><h2 id="èŒƒå›´ç”Ÿæˆå™¨ä¸­çš„éšæœºæ•´æ•°"><a href="#èŒƒå›´ç”Ÿæˆå™¨ä¸­çš„éšæœºæ•´æ•°" class="headerlink" title="èŒƒå›´ç”Ÿæˆå™¨ä¸­çš„éšæœºæ•´æ•°"></a>èŒƒå›´ç”Ÿæˆå™¨ä¸­çš„éšæœºæ•´æ•°</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">randomInteger</span> = (<span class="hljs-params">min, max</span>) =&gt; <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * (max - min + <span class="hljs-number">1</span>)) + min;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">randomInteger</span>(<span class="hljs-number">1</span>,<span class="hljs-number">10</span>)) <span class="hljs-comment">// 6 </span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">randomInteger</span>(<span class="hljs-number">1</span>,<span class="hljs-number">20</span>)) <span class="hljs-comment">// 8</span><br></code></pre></td></tr></table></figure><h2 id="è·å–ç±»å‹"><a href="#è·å–ç±»å‹" class="headerlink" title="è·å–ç±»å‹"></a>è·å–ç±»å‹</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">getType</span> = v =&gt; v === <span class="hljs-literal">undefined</span> ? <span class="hljs-string">&#x27;undefined&#x27;</span> : v === <span class="hljs-literal">null</span> ? <span class="hljs-string">&#x27;null&#x27;</span> : v.<span class="hljs-property">constructor</span>.<span class="hljs-property">name</span>.<span class="hljs-title function_">toLowerCase</span>();<br><span class="hljs-title function_">getType</span>([<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]) <span class="hljs-comment">//array</span><br><span class="hljs-title function_">getType</span>(<span class="hljs-string">&quot;JavaScript&quot;</span>)  <span class="hljs-comment">//string</span><br><span class="hljs-title function_">getType</span>(<span class="hljs-literal">true</span>)  <span class="hljs-comment">//boolean</span><br></code></pre></td></tr></table></figure><h2 id="æ•°ç»„å¹³å‡æ•°"><a href="#æ•°ç»„å¹³å‡æ•°" class="headerlink" title="æ•°ç»„å¹³å‡æ•°"></a>æ•°ç»„å¹³å‡æ•°</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">average</span> = arr =&gt; arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, val</span>) =&gt;</span> acc + val, <span class="hljs-number">0</span>) / arr.<span class="hljs-property">length</span>;<br><br><span class="hljs-comment">// average([1,2,3]) -&gt; 2</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>å‰ç«¯</tag>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2022/08/24/hello-world/"/>
    <url>/2022/08/24/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
